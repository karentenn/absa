var absa=absa||{};absa.apps=absa.apps||{};absa.apps.creditCard=absa.apps.creditCard||{};absa.apps.creditCard.onUnsubscribeClick=function(b,d,c){phe.common.hide(document.getElementById("gadget-placeholder-l2-g3010147"));phe.common.hide(document.getElementById("gadget-placeholder-l5-g3010147"));gadgets.pubsub.publish("showHide:offersSpoofContainer","HIDE");var a="proxy?pipe=genericWebservice&ws=SnoozeProcessWebService&action=persistSnoozedData&source="+c+"&functionName="+d;absa.io.makeRequest(a,function(e){})};absa.apps.creditCard.onApplyClick=function(g,h){var a;var r;var q=bb.selector.queryAncestor(g,".ap-offersCreditCard-form");if(h==="CREDIT_CARD_CLI"){var d=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCLI-existingCreditcardNumberHiddenField"));var m=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCLI-existingCreditLimitHiddenField"));var t=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCLI-hiddenIsFreshBureauDataAvailableWithCams"));var p=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCLI-hiddenTotalGrossMonthlyIncome"));var k=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCLI-hiddenTotalNetMonthlyIncome"));var n=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCLI-hiddenTotalMonhtlyLivingExpenses"));var b=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCLI-hiddenTotalMonthlyFixedDebtInstallment"));var f=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCLI-hiddenTelephoneExpense"));var l=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCLI-hiddenInsuranceExpense"));var c=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCLI-hiddenSecurityExpense"));var j=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCLI-hiddenBureauCategory"));var i=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCLI-hiddenBureauCategoryAmount"));var s=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCLI-cliLimit"));a=parseInt(m)+parseInt(s);var e={isOffersCLI:"Y",creditCardNumber:d,isCamsBureauDataFresh:t,totalGrossMonthlyIncome:p,existingLimit:m,totalNetMonthlyIncome:k,additionalLimit:s,totalMonhtlyLivingExpenses:n,totalMonthlyFixedDebtInstallment:b,telephoneExpense:f,insuranceExpense:l,securityExpense:c,bureauCategory:j,bureauCategoryAmount:i}}else{r=window.open("","OSF");a=phe.hiddenField.getValue(bb.selector.query(q,".ap-offersCCNewLimit-limitHiddenField"))}var o="proxy?pipe=genericWebservice&ws=OffersTransactionalApplyWebService&action=updateApplyFlagAndLoggingForOffersGadgets&productType="+h+"&amount="+a;if(q!=""){absa.io.makeRequest(o,function(u){if(!u.errors.length){if(h==="CREDIT_CARD_ACQUISITION"){absa.apps.creditCard.openOSFWindow(r)}else{gadgets.pubsub.publish("goTo:apply/applyForCreditCard/applyForCreditCard",e)}phe.common.hide(document.getElementById("gadget-placeholder-l2-g3010147"));phe.common.hide(document.getElementById("gadget-placeholder-l5-g3010147"));gadgets.pubsub.publish("showHide:offersSpoofContainer","HIDE")}else{phe.form.displayIOErrorMessage(q,true)}})}};absa.apps.creditCard.openOSFWindow=function(e){var f=document.body.getAttribute("sid");var b;var c="CREDCARD";var d="Y";var a=absa.URL_OSF;if(a.indexOf("?")>-1){a=a.substring(0,a.indexOf("?"))}b="<div style='display:none;'><form novalidate name='osfloginform' id='osfloginform' action='"+a+"' method='post'>";b=b+"<input type='hidden' name='esessionid' id='esessionid' class='input' value='"+f+"' />";b=b+"<input type='hidden' name='prodType' id='prodType' class='input' value='"+c+"' />";b=b+"<input type='hidden' name='offers' id='offers' class='input' value='"+d+"' />";b=b+"<input type='submit' name='osfsubmit' id='osfsubmit' value='Login' />";b=b+"</form></div>";b=b+"<script type='text/javascript'>";b=b+"document.osfloginform.submit();<\/script>";e.document.write(b);e.document.close()};