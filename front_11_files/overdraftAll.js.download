var absa=absa||{};absa.apps=absa.apps||{};absa.apps.overdraftOffers=absa.apps.overdraftOffers||{};absa.apps.overdraftOffers.onOverdraftApply=function(f,b,e,c){absa.index.hideGadgetOnApplyClick=0;var a="OVERDRAFT_OFFERS";var d="proxy?pipe=genericWebservice&ws=OffersTransactionalApplyWebService&action=updateApplyFlagAndLoggingForOffersGadgets&productType="+a+"&amount="+e;absa.io.makeRequest(d,function(h){if(!h.errors.length){var j=bb.html.createElementFromString(h.text);if(j){var g=bb.selector.query(j,".ap-updateApplyFlag");if(g){var i=g.getAttribute("isDone");if(i=="true"){phe.common.hide(document.getElementById("gadget-placeholder-l2-g3010139"));phe.common.hide(document.getElementById("gadget-placeholder-l5-g3010139"));phe.common.hide(document.getElementById("gadget-placeholder-l2-g3010136"));phe.common.hide(document.getElementById("gadget-placeholder-l5-g3010136"));gadgets.pubsub.publish("showHide:offersSpoofContainer","HIDE");if(c=true){absa.index.doOverdraftCheckToDSP(this,"pc-od","OD")}else{gadgets.pubsub.publish("goTo:apply/transactionalSolutions/overdraftOffers",{productType:b})}}}}}})};absa.apps.overdraftOffers.onOverdraftSend=function(b,a){var c=bb.selector.queryAncestor(b,".ap-overdraftOffers-form");if(absa.form.validate(c)){if(a=="sendEMail"){phe.form.setAttribute(c,"action","proxy?pipe=genericWebservice&ws=OffersOverdraftWebService&action=sendOverdraftEmailMessage")}}};absa.apps.overdraftOffers.onDoneButtonClick=function(b){var c=bb.selector.queryAncestor(b,".p-gadget");var a=bb.getControllerFromView(c);if(a){a.minimize();c.focus()}};absa.apps.overdraftOffers.onUnsubscribeClick=function(d,a){phe.common.hide(document.getElementById("gadget-placeholder-l2-g3010139"));phe.common.hide(document.getElementById("gadget-placeholder-l5-g3010139"));gadgets.pubsub.publish("showHide:offersSpoofContainer","HIDE");var c="persistSnoozedData";var b="proxy?pipe=genericWebservice&ws=SnoozeProcessWebService&action=persistSnoozedData&source="+a+"&functionName="+c;absa.io.makeRequest(b,function(e){})};var absa=absa||{};absa.apps=absa.apps||{};absa.apps.bbOverdraft=absa.apps.bbOverdraft||{};absa.apps.bbOverdraft.onbbOverdraftApply=function(f){var e;var m=bb.selector.queryAncestor(f,".ap-overdraftOffers-form");var h=bb.selector.query(m,".ap-bbOverdraft-hiddenoffersBBOverdraftEnum");var a=bb.selector.query(m,".ap-bbOverdraft-hiddennewBBOverdraftLimit");var c=bb.selector.query(m,".ap-bbOverdraft-hiddenexistingBBOverdraftLimit");var b=bb.selector.query(m,".ap-bbOverdraft-cpp");var j=phe.hiddenField.getValue(h);var i=phe.hiddenField.getValue(a);var k=phe.hiddenField.getValue(c);if(j==="EXISTING_OVERDRAFT_LIMIT"){e="OFFERS_BB_EXISTING_OVERDRAFT"}else{e="OFFERS_BB_NEW_OVERDRAFT"}var g="no";var l=i+";"+k+";"+g;var d="proxy?pipe=genericWebservice&ws=OffersBBBCMSWebService&action=trackAndProcessBBBCMSApply&offersBusinessBankProductsEnum="+e+"&bcmsDataSet="+l;phe.form.setAttribute(m,"action",d);absa.form.validateAndSubmit(m)};absa.apps.bbOverdraft.onDoneButtonClick=function(a){absa.index.hideGadgetOnApplyClick=0;if(a!=""){phe.common.hide(document.getElementById("gadget-placeholder-l2-g3010139"));phe.common.hide(document.getElementById("gadget-placeholder-l5-g3010139"));phe.common.hide(document.getElementById("gadget-placeholder-l2-g3010136"));phe.common.hide(document.getElementById("gadget-placeholder-l5-g3010136"));gadgets.pubsub.publish("showHide:offersSpoofContainer","HIDE")}};absa.apps.bbOverdraft.onUnsubscribeClick=function(d,a){phe.common.hide(document.getElementById("gadget-placeholder-l2-g3010139"));phe.common.hide(document.getElementById("gadget-placeholder-l5-g3010139"));gadgets.pubsub.publish("showHide:offersSpoofContainer","HIDE");var c="BB_OVERDRAFT";var b="proxy?pipe=genericWebservice&ws=SnoozeProcessWebService&action=persistSnoozedData&source="+a+"&functionName="+c;absa.io.makeRequest(b,function(e){})};absa.apps.bbOverdraft.showEducationModal=function(c){var b=bb.selector.queryAncestor(c,".ap-overdraftOffers-form");var a=bb.selector.query(b,".ap-overdraftEducation-modal");phe.modal.showModal("0.5",a,b,true)};