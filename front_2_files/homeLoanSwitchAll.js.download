var absa=absa||{};absa.apps=absa.apps||{};absa.apps.homeLoanSwitch=absa.apps.homeLoanSwitch||{};absa.apps.homeLoanSwitch.onSubmitClick=function(f){var g=bb.selector.queryAncestor(f,".ap-offersHomeLoanSwitch-thankYou-form");var e=bb.selector.query(g,".ap-offersHomeLoanSwitch-thankYou-errorMessage");var a=phe.textBox.getValue(bb.selector.query(g,".ap-offersHomeLoanSwitch-thankYou-cellPhoneNumber"));var c=phe.textBox.getValue(bb.selector.query(g,".ap-offersHomeLoanSwitch-thankYou-homePhoneNumber"));var b=phe.textBox.getValue(bb.selector.query(g,".ap-offersHomeLoanSwitch-thankYou-workPhoneNumber"));var h=phe.textBox.getValue(bb.selector.query(g,".ap-offersHomeLoanSwitch-thankYou-emailAddress"));if(a==""&&c==""&&b==""){phe.common.show(e);return}else{phe.common.hide(e)}var d="proxy?pipe=genericWebService&ws=OffersHomeLoanSwitchWebService&action=submitHomeLoanSwitchGadget&cellPhoneNumber="+a+"&emailAddress="+h+"&homePhoneNumber="+c+"&workPhoneNumber="+b;if(absa.form.validate(g)){phe.loadingMessage.showLoadingMessage(g);g.style.position="relative";absa.io.makeRequest(d,function(m){phe.loadingMessage.hideLoadingMessage(g);if(!m.errors.length){var p=bb.html.createElementFromString(m.text);if(p){if(bb.html.hasClass(p,"ap-offersHL-submitHomeLoanSwitchGadgetResponseDiv")){var l=phe.hiddenField.getValue(bb.selector.query(p,".ap-offersHLSwitch-docqResult"));if(l=="SUCCESS"){var n=bb.selector.query(g,".ap-offersHomeLoanSwitch-thankYou-successMessage");var i=bb.selector.query(g,".ap-offersHomeLoanSwitch-doneButton");var k=bb.selector.query(g,".ap-offersHomeLoanSwitch-submitButton");phe.common.show(n);phe.button.hide(k);phe.button.show(i)}else{var k=bb.selector.query(g,".ap-offersHomeLoanSwitch-submitButton");var j=bb.selector.query(g,".ap-offersHomeLoanSwitch-closeButton");var o=bb.selector.query(g,".ap-offersHomeLoanSwitch-service-errorMessage");phe.button.hide(k);phe.button.show(j);phe.common.show(o)}}}}else{var k=bb.selector.query(g,".ap-offersHomeLoanSwitch-submitButton");var j=bb.selector.query(g,".ap-offersHomeLoanSwitch-closeButton");var o=bb.selector.query(g,".ap-offersHomeLoanSwitch-service-errorMessage");phe.button.hide(k);phe.button.show(j);phe.common.show(o)}})}};absa.apps.homeLoanSwitch.onDone=function(){phe.common.hide(document.getElementById("gadget-placeholder-l2-g3010158"));phe.common.hide(document.getElementById("gadget-placeholder-l5-g3010158"))};absa.apps.homeLoanSwitch.onUnsubscribeClick=function(c,a,d){phe.common.hide(document.getElementById("gadget-placeholder-l2-g3010158"));phe.common.hide(document.getElementById("gadget-placeholder-l5-g3010158"));gadgets.pubsub.publish("showHide:offersSpoofContainer","HIDE");var b="proxy?pipe=genericWebservice&ws=SnoozeProcessWebService&action=persistSnoozedData&source="+d+"&functionName="+a;absa.io.makeRequest(b,function(e){})};