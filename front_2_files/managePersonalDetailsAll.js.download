var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.contactDetails=absa.apps.contactDetails||{};var isWorkPhone;absa.apps.contactDetails.onEmailChecked=function(a,j){var g=bb.selector.queryAncestor(a,".ap-changeContactDetails-form");var b=bb.selector.query(g,".ap-contactDetails-email");var c=bb.selector.query(g,".ap-contactDetails-directMarketingMaterialCheckBox");var h=bb.selector.query(g,".ap-contactDetails-elecMarketingMaterialCheckBox");var i=bb.selector.query(g,".ap-contactDetails-checkBoxNcrSMS");var d=bb.selector.query(g,".ap-contactDetails-checkBoxNcrAutoVoice");var f=bb.selector.query(g,".ap-contactDetails-checkBoxCrSMS");var e=bb.selector.query(g,".ap-contactDetails-checkBoxCrTelephone");if(phe.checkBox.isChecked(a)){phe.checkBox.setValue(a,"Y");phe.textBox.setAttribute(b,"required","true");if(j==true){if(phe.checkBox.isChecked(f)||phe.checkBox.isChecked(e)){}else{phe.checkBox.setAttribute(h,"disabled","true");phe.checkBox.setAttribute(h,"checked","false");phe.checkBox.setValue(h,"Y")}}else{if(phe.checkBox.isChecked(i)||phe.checkBox.isChecked(d)){}else{phe.checkBox.setAttribute(c,"disabled","true");phe.checkBox.setAttribute(c,"checked","false");phe.checkBox.setValue(c,"Y")}}}else{phe.checkBox.setValue(a,"N");phe.textBox.setAttribute(b,"required","false");if(j==true){if(phe.checkBox.isChecked(f)||phe.checkBox.isChecked(e)){}else{phe.checkBox.setAttribute(h,"disabled","false");phe.checkBox.setAttribute(h,"checked","true");phe.checkBox.setValue(h,"N")}}else{if(phe.checkBox.isChecked(i)||phe.checkBox.isChecked(d)){}else{phe.checkBox.setAttribute(c,"disabled","false");phe.checkBox.setAttribute(c,"checked","true");phe.checkBox.setValue(c,"N")}}}};absa.apps.contactDetails.onSMSChecked=function(a,i){var g=bb.selector.queryAncestor(a,".ap-changeContactDetails-form");var f=bb.selector.query(g,".ap-contactDetails-cellphone");var d=bb.selector.query(g,".ap-contactDetails-directMarketingMaterialCheckBox");var h=bb.selector.query(g,".ap-contactDetails-elecMarketingMaterialCheckBox");var j=bb.selector.query(g,".ap-contactDetails-checkBoxCrEmail");var e=bb.selector.query(g,".ap-contactDetails-checkBoxCrTelephone");var c=bb.selector.query(g,".ap-contactDetails-checkBoxNcrEmail");var b=bb.selector.query(g,".ap-contactDetails-checkBoxNcrAutoVoice");if(phe.checkBox.isChecked(a)){phe.checkBox.setValue(a,"Y");phe.textBox.setAttribute(f,"required","true");if(i==true){if(phe.checkBox.isChecked(j)||phe.checkBox.isChecked(e)){}else{phe.checkBox.setAttribute(h,"disabled","true");phe.checkBox.setAttribute(h,"checked","false");phe.checkBox.setValue(h,"Y")}}else{if(phe.checkBox.isChecked(c)||phe.checkBox.isChecked(b)){}else{phe.checkBox.setAttribute(d,"disabled","true");phe.checkBox.setAttribute(d,"checked","false");phe.checkBox.setValue(d,"Y")}}}else{phe.checkBox.setValue(a,"N");phe.textBox.setAttribute(f,"required","false");if(i==true){if(phe.checkBox.isChecked(j)||phe.checkBox.isChecked(e)){}else{phe.checkBox.setAttribute(h,"disabled","false");phe.checkBox.setAttribute(h,"checked","true");phe.checkBox.setValue(h,"N")}}else{if(phe.checkBox.isChecked(c)||phe.checkBox.isChecked(b)){}else{phe.checkBox.setAttribute(d,"disabled","false");phe.checkBox.setAttribute(d,"checked","true");phe.checkBox.setValue(d,"N")}}}};absa.apps.contactDetails.onTelephoneCheckedHome=function(d){var g=bb.selector.queryAncestor(d,".ap-changeContactDetails-form");var f=bb.selector.query(g,".ap-contactDetails-homeTelephoneCode");var e=bb.selector.query(g,".ap-contactDetails-homeTelephoneNumber");var b=bb.selector.query(g,".ap-contactDetails-elecMarketingMaterialCheckBox");var c=bb.selector.query(g,".ap-contactDetails-checkBoxCrEmail");var a=bb.selector.query(g,".ap-contactDetails-checkBoxCrSMS");if(phe.checkBox.isChecked(d)||phe.checkBox.isChecked(c)||phe.checkBox.isChecked(a)){phe.checkBox.setValue(d,"Y");phe.textBox.setAttribute(f,"required","true");phe.textBox.setAttribute(e,"required","true");phe.checkBox.setAttribute(b,"disabled","true");phe.checkBox.setAttribute(b,"checked","false");phe.checkBox.setValue(b,"Y")}else{phe.checkBox.setValue(d,"N");phe.textBox.setAttribute(f,"required","false");phe.textBox.setAttribute(e,"required","false");phe.checkBox.setAttribute(b,"disabled","false");phe.checkBox.setAttribute(b,"checked","true");phe.checkBox.setValue(b,"N")}};absa.apps.contactDetails.onTelephoneCheckedWork=function(f){isWorkPhone=true;var g=bb.selector.queryAncestor(f,".ap-changeContactDetails-form");var e=bb.selector.query(g,".ap-contactDetails-workTelephoneCode");var d=bb.selector.query(g,".ap-contactDetails-workTelephoneNumber");var b=bb.selector.query(g,".ap-contactDetails-elecMarketingMaterialCheckBox");var c=bb.selector.query(g,".ap-contactDetails-checkBoxCrEmail");var a=bb.selector.query(g,".ap-contactDetails-checkBoxCrSMS");if(phe.checkBox.isChecked(f)||phe.checkBox.isChecked(c)||phe.checkBox.isChecked(a)){phe.textBox.setAttribute(e,"required","true");phe.textBox.setAttribute(d,"required","true");phe.checkBox.setAttribute(b,"disabled","true");phe.checkBox.setAttribute(b,"checked","false");phe.checkBox.setValue(b,"Y")}else{phe.textBox.setAttribute(e,"required","false");phe.textBox.setAttribute(d,"required","false");phe.checkBox.setAttribute(b,"disabled","false");phe.checkBox.setAttribute(b,"checked","true");phe.checkBox.setValue(b,"N")}};absa.apps.contactDetails.onVoiceRecordingChecked=function(c){var f=bb.selector.queryAncestor(c,".ap-changeContactDetails-form");var e=bb.selector.query(f,".ap-contactDetails-cellphone");var d=bb.selector.query(f,".ap-contactDetails-directMarketingMaterialCheckBox");var a=bb.selector.query(f,".ap-contactDetails-checkBoxNcrEmail");var b=bb.selector.query(f,".ap-contactDetails-checkBoxNcrSMS");if(phe.checkBox.isChecked(c)||phe.checkBox.isChecked(a)||phe.checkBox.isChecked(b)){phe.checkBox.setValue(c,"Y");phe.textBox.setAttribute(e,"required","true");phe.checkBox.setAttribute(d,"disabled","true");phe.checkBox.setAttribute(d,"checked","false");phe.checkBox.setValue(d,"Y")}else{phe.checkBox.setValue(c,"N");phe.textBox.setAttribute(e,"required","false");phe.checkBox.setAttribute(d,"disabled","false");phe.checkBox.setAttribute(d,"checked","true");phe.checkBox.setValue(d,"N")}};absa.apps.contactDetails.onConfirmButtonClick=function(j,Y){var l=bb.selector.queryAncestor(j,".ap-changeContactDetails-form");var D=bb.selector.query(l,".ap-contactDetails-directMarketingMaterialCheckBox");var q=phe.checkBox.isChecked(D);var g=bb.selector.query(l,".ap-contactDetails-selectedDirectMarketingMaterial");var n=phe.hiddenField.getValue(g);var K=bb.selector.query(l,".ap-contactDetails-elecMarketingMaterialCheckBox");var p=phe.checkBox.isChecked(K);var J=bb.selector.query(l,".ap-contactDetails-creditMarketingMaterial");var o=phe.hiddenField.getValue(J);var G=bb.selector.query(l,".ap-contactDetails-errorCheckBox");phe.message.hide(G);var R=bb.selector.query(l,".ap-contactDetails-errorChannelsCheckBox");phe.message.hide(R);var c=bb.selector.query(l,".ap-contactDetails-checkBoxNcrSMS");var aa=bb.selector.query(l,".ap-contactDetails-checkBoxNcrEmail");var i=bb.selector.query(l,".ap-contactDetails-checkBoxNcrAutoVoice");var Z=bb.selector.query(l,".ap-contactDetails-checkBoxCrSMS");var m=bb.selector.query(l,".ap-contactDetails-checkBoxCrEmail");var L=bb.selector.query(l,".ap-contactDetails-checkBoxCrTelephone");var O=bb.selector.query(l,".ap-contactDetails-checkBoxNcrSMSHidden");var a=bb.selector.query(l,".ap-contactDetails-checkBoxNcrEmailHidden");var V=bb.selector.query(l,".ap-contactDetails-checkBoxNcrAutoVoiceHidden");var d=bb.selector.query(l,".ap-contactDetails-checkBoxNcrTelHidden");var z=bb.selector.query(l,".ap-contactDetails-checkBoxNcrPostHidden");var F=bb.selector.query(l,".ap-contactDetails-checkBoxCrSMSHidden");var ac=bb.selector.query(l,".ap-contactDetails-checkBoxCrEmailHidden");var Q=bb.selector.query(l,".ap-contactDetails-checkBoxCrTelephoneHidden");var w=bb.selector.query(l,".ap-contactDetails-checkBoxCrPostHidden");var b=phe.checkBox.isChecked(c);var s=phe.checkBox.isChecked(aa);var I=phe.checkBox.isChecked(i);var r=phe.checkBox.isChecked(Z);var N=phe.checkBox.isChecked(m);var ae=phe.checkBox.isChecked(L);var t=bb.selector.query(l,".ap-changeContactDetails-correspondenceLanguage");var C="";var B="";var af="";var ad="";if(Y==false){C=bb.selector.query(l,"#contactDetails-residentialAddressLine1");B=bb.selector.query(l,"#contactDetails-residentialAddressLine2");af=bb.selector.query(l,"#contactDetails-residentialAddressLine1-hidden");ad=bb.selector.query(l,"#contactDetails-residentialAddressLine2-hidden")}var v=bb.selector.query(l,"#contactDetails-postalAddressLine1");var u=bb.selector.query(l,"#contactDetails-postalAddressLine2");var M=phe.textBox.getValue(t);var X="";var W="";if(Y==false){X=phe.textBox.getValue(C);W=phe.textBox.getValue(B);X=bb.string.trim(X);W=bb.string.trim(W)}var h=phe.textBox.getValue(v);var f=phe.textBox.getValue(u);h=bb.string.trim(h);f=bb.string.trim(f);var k=["ROAD","RD","LANE","LN","STREET","STR","AVENUE","AVE","CIRCLE","CIRCLE"];var ag=["STRAAT","STR","LAAN","LN","STRAAT","ST","LAAN","LN","SIRKEL","SINGEL"];var P=X.toUpperCase().split(" ");var e=W.toUpperCase().split(" ");var A=h.toUpperCase().split(" ");var ab=f.toUpperCase().split(" ");if(M=="E"){for(var T=0;T<ag.length;T++){if(Y==false){for(var S=0;S<P.length;S++){if(P[S]==ag[T]){P[S]=k[T]}else{P[S]=P[S].toUpperCase()}}for(var S=0;S<e.length;S++){if(e[S]==ag[T]){e[S]=k[T]}else{e[S]=e[S].toUpperCase()}}}for(var S=0;S<A.length;S++){if(A[S]==ag[T]){A[S]=k[T]}else{A[S]=A[S].toUpperCase()}}for(var S=0;S<ab.length;S++){if(ab[S]==ag[T]){ab[S]=k[T]}else{ab[S]=ab[S].toUpperCase()}}}}else{if(M=="A"){for(var T=0;T<k.length;T++){if(Y==false){for(var S=0;S<P.length;S++){if(P[S]==k[T]){P[S]=ag[T]}else{P[S]=P[S].toUpperCase()}}for(var S=0;S<e.length;S++){if(e[S]==k[T]){e[S]=ag[T]}else{e[S]=e[S].toUpperCase()}}}for(var S=0;S<A.length;S++){if(A[S]==k[T]){A[S]=ag[T]}else{A[S]=A[S].toUpperCase()}}for(var S=0;S<ab.length;S++){if(ab[S]==k[T]){ab[S]=ag[T]}else{ab[S]=ab[S].toUpperCase()}}}}}X="";W="";h="";f="";if(Y==false){for(var S=0;S<P.length;S++){X+=P[S]+" "}for(var S=0;S<e.length;S++){W+=e[S]+" "}}for(var S=0;S<A.length;S++){h+=A[S]+" "}for(var S=0;S<ab.length;S++){f+=ab[S]+" "}if(Y==false){phe.textBox.setValue(C,X);phe.textBox.setValue(B,W);phe.textBox.setValue(af,X);phe.textBox.setValue(ad,W)}phe.textBox.setValue(v,h);phe.textBox.setValue(u,f);var H=bb.selector.query(l,".ap-isRegisteredFor-SaTax");if(H!=null){var E=phe.radioGroup.getRadioItems(H);var U=bb.selector.query(l,".ap-contactDetails-saTaxErrorMsg");phe.message.hide(U)}if(q==true){if(b||s||I){phe.message.show(R)}else{phe.hiddenField.setValue(g,"N");phe.hiddenField.setValue(O,"N");phe.hiddenField.setValue(a,"N");phe.hiddenField.setValue(V,"N");phe.hiddenField.setValue(d,"Y");phe.hiddenField.setValue(z,"Y")}}else{phe.hiddenField.setValue(g,"Y");phe.hiddenField.setValue(d,"N");phe.hiddenField.setValue(z,"N");if(b){phe.hiddenField.setValue(O,"Y")}else{phe.hiddenField.setValue(O,"N")}if(s){phe.hiddenField.setValue(a,"Y")}else{phe.hiddenField.setValue(a,"N")}if(I){phe.hiddenField.setValue(V,"Y")}else{phe.hiddenField.setValue(V,"N")}if(b||s||I){phe.hiddenField.setValue(g,"Y");phe.hiddenField.setValue(d,"N");phe.hiddenField.setValue(z,"N")}else{phe.hiddenField.setValue(g,"N");phe.message.show(G);phe.hiddenField.setValue(d,"Y");phe.hiddenField.setValue(z,"Y")}}if(p==true){if(r||N||ae){phe.message.show(R)}else{phe.hiddenField.setValue(J,"N");phe.hiddenField.setValue(F,"N");phe.hiddenField.setValue(ac,"N");phe.hiddenField.setValue(Q,"N");phe.hiddenField.setValue(w,"Y")}}else{phe.hiddenField.setValue(J,"Y");phe.hiddenField.setValue(w,"N");if(r){phe.hiddenField.setValue(F,"Y")}else{phe.hiddenField.setValue(F,"N")}if(N){phe.hiddenField.setValue(ac,"Y")}else{phe.hiddenField.setValue(ac,"N")}if(ae){phe.hiddenField.setValue(Q,"Y")}else{phe.hiddenField.setValue(Q,"N")}if(r||N||ae){phe.hiddenField.setValue(J,"Y");phe.hiddenField.setValue(w,"N")}else{phe.hiddenField.setValue(J,"N");phe.message.show(G);phe.hiddenField.setValue(w,"Y")}}if(H!=null){if(E[0].checked||E[1].checked){absa.form.validateAndSubmit(l)}else{phe.message.show(U)}}else{absa.form.validateAndSubmit(l)}};absa.apps.contactDetails.checkMarketingIndicators=function(l,K){var o=bb.selector.queryAncestor(l,".ap-changeContactDetails-form");var M=bb.selector.query(o,".ap-contactDetails-directMarketingMaterialCheckBox");var w=phe.checkBox.isChecked(M);var h=bb.selector.query(o,".ap-contactDetails-selectedDirectMarketingMaterial");var s=phe.hiddenField.getValue(h);var S=bb.selector.query(o,".ap-contactDetails-elecMarketingMaterialCheckBox");var u=phe.checkBox.isChecked(S);var R=bb.selector.query(o,".ap-contactDetails-creditMarketingMaterial");var t=phe.hiddenField.getValue(R);var P=bb.selector.query(o,".ap-contactDetails-errorCheckBox");phe.message.hide(P);var Z=bb.selector.query(o,".ap-contactDetails-errorChannelsCheckBox");phe.message.hide(Z);var c=bb.selector.query(o,".ap-contactDetails-checkBoxNcrSMS");var aj=bb.selector.query(o,".ap-contactDetails-checkBoxNcrEmail");var k=bb.selector.query(o,".ap-contactDetails-checkBoxNcrAutoVoice");var ai=bb.selector.query(o,".ap-contactDetails-checkBoxCrSMS");var p=bb.selector.query(o,".ap-contactDetails-checkBoxCrEmail");var T=bb.selector.query(o,".ap-contactDetails-checkBoxCrTelephone");var W=bb.selector.query(o,".ap-contactDetails-checkBoxNcrSMSHidden");var a=bb.selector.query(o,".ap-contactDetails-checkBoxNcrEmailHidden");var ad=bb.selector.query(o,".ap-contactDetails-checkBoxNcrAutoVoiceHidden");var d=bb.selector.query(o,".ap-contactDetails-checkBoxNcrTelHidden");var H=bb.selector.query(o,".ap-contactDetails-checkBoxNcrPostHidden");var O=bb.selector.query(o,".ap-contactDetails-checkBoxCrSMSHidden");var al=bb.selector.query(o,".ap-contactDetails-checkBoxCrEmailHidden");var Y=bb.selector.query(o,".ap-contactDetails-checkBoxCrTelephoneHidden");var G=bb.selector.query(o,".ap-contactDetails-checkBoxCrPostHidden");var b=phe.checkBox.isChecked(c);var A=phe.checkBox.isChecked(aj);var Q=phe.checkBox.isChecked(k);var z=phe.checkBox.isChecked(ai);var V=phe.checkBox.isChecked(p);var an=phe.checkBox.isChecked(T);var B=bb.selector.query(o,".ap-contactDetails-correspondenceLanguage");var L="";var J="";var ao="";var am="";var r="";var q="";var af="";var ae="";if(K!="businessLateEstate"){var L=bb.selector.query(o,"#contactDetails-residentialAddressLine1");var J=bb.selector.query(o,"#contactDetails-residentialAddressLine2");var ao=bb.selector.query(o,"#contactDetails-residentialAddressLine1-hidden");var am=bb.selector.query(o,"#contactDetails-residentialAddressLine2-hidden");if(K!="businessPartnership"){var r=bb.selector.query(o,"#contactDetails-headOfficeAddressLine1");var q=bb.selector.query(o,"#contactDetails-headOfficeAddressLine2");var af=bb.selector.query(o,"#contactDetails-registeredAddressLine1");var ae=bb.selector.query(o,"#contactDetails-registeredAddressLine2")}}var E=bb.selector.query(o,"#contactDetails-postalAddressLine1");var C=bb.selector.query(o,"#contactDetails-postalAddressLine2");var U=phe.textBox.getValue(B);var ah="";var ag="";var F="";var D="";var j="";var g="";if(K!="businessLateEstate"){var ah=phe.textBox.getValue(L);var ag=phe.textBox.getValue(J);ah=bb.string.trim(ah);ag=bb.string.trim(ag);if(K!="businessPartnership"){var F=phe.textBox.getValue(r);var D=phe.textBox.getValue(q);var j=phe.textBox.getValue(af);var g=phe.textBox.getValue(ae);F=bb.string.trim(F);D=bb.string.trim(D);j=bb.string.trim(j);g=bb.string.trim(g)}}var i=phe.textBox.getValue(E);var f=phe.textBox.getValue(C);var n=["ROAD","RD","LANE","LN","STREET","STR","AVENUE","AVE","CIRCLE","CIRCLE"];var ap=["STRAAT","STR","LAAN","LN","STRAAT","ST","LAAN","LN","SIRKEL","SINGEL"];i=bb.string.trim(i);f=bb.string.trim(f);var X=ah.toUpperCase().split(" ");var e=ag.toUpperCase().split(" ");var I=i.toUpperCase().split(" ");var ak=f.toUpperCase().split(" ");var v=F.toUpperCase().split(" ");var ab=D.toUpperCase().split(" ");var m=j.toUpperCase().split(" ");var N=g.toUpperCase().split(" ");if(U=="E"){for(var ac=0;ac<ap.length;ac++){if(K!="businessLateEstate"){for(var aa=0;aa<X.length;aa++){if(X[aa]==ap[ac]){X[aa]=n[ac]}else{X[aa]=X[aa].toUpperCase()}}for(var aa=0;aa<e.length;aa++){if(e[aa]==ap[ac]){e[aa]=n[ac]}else{e[aa]=e[aa].toUpperCase()}}if(K!="businessPartnership"){for(var aa=0;aa<v.length;aa++){if(v[aa]==ap[ac]){v[aa]=n[ac]}else{v[aa]=v[aa].toUpperCase()}}for(var aa=0;aa<ab.length;aa++){if(ab[aa]==ap[ac]){ab[aa]=n[ac]}else{ab[aa]=ab[aa].toUpperCase()}}for(var aa=0;aa<m.length;aa++){if(m[aa]==ap[ac]){m[aa]=n[ac]}else{m[aa]=m[aa].toUpperCase()}}for(var aa=0;aa<N.length;aa++){if(N[aa]==ap[ac]){N[aa]=n[ac]}else{N[aa]=N[aa].toUpperCase()}}}}for(var aa=0;aa<I.length;aa++){if(I[aa]==ap[ac]){I[aa]=n[ac]}else{I[aa]=I[aa].toUpperCase()}}for(var aa=0;aa<ak.length;aa++){if(ak[aa]==ap[ac]){ak[aa]=n[ac]}else{ak[aa]=ak[aa].toUpperCase()}}}}else{if(U=="A"){for(var ac=0;ac<n.length;ac++){if(K!="businessLateEstate"){for(var aa=0;aa<X.length;aa++){if(X[aa]==n[ac]){X[aa]=ap[ac]}else{X[aa]=X[aa].toUpperCase()}}for(var aa=0;aa<e.length;aa++){if(e[aa]==n[ac]){e[aa]=ap[ac]}else{e[aa]=e[aa].toUpperCase()}}if(K!="businessPartnership"){for(var aa=0;aa<v.length;aa++){if(v[aa]==n[ac]){v[aa]=ap[ac]}else{v[aa]=v[aa].toUpperCase()}}for(var aa=0;aa<ab.length;aa++){if(ab[aa]==n[ac]){ab[aa]=ap[ac]}else{ab[aa]=ab[aa].toUpperCase()}}for(var aa=0;aa<m.length;aa++){if(m[aa]==n[ac]){m[aa]=ap[ac]}else{m[aa]=m[aa].toUpperCase()}}for(var aa=0;aa<N.length;aa++){if(N[aa]==n[ac]){N[aa]=ap[ac]}else{N[aa]=N[aa].toUpperCase()}}}}for(var aa=0;aa<I.length;aa++){if(I[aa]==n[ac]){I[aa]=ap[ac]}else{I[aa]=I[aa].toUpperCase()}}for(var aa=0;aa<ak.length;aa++){if(ak[aa]==n[ac]){ak[aa]=ap[ac]}else{ak[aa]=ak[aa].toUpperCase()}}}}}ah="";ag="";i="";f="";F="";D="";j="";g="";if(K!="businessLateEstate"){for(var aa=0;aa<X.length;aa++){ah+=X[aa]+" "}for(var aa=0;aa<e.length;aa++){ag+=e[aa]+" "}if(K!="businessPartnership"){for(var aa=0;aa<v.length;aa++){F+=v[aa]+" "}for(var aa=0;aa<ab.length;aa++){D+=ab[aa]+" "}for(var aa=0;aa<m.length;aa++){j+=m[aa]+" "}for(var aa=0;aa<N.length;aa++){g+=N[aa]+" "}}}for(var aa=0;aa<I.length;aa++){i+=I[aa]+" "}for(var aa=0;aa<ak.length;aa++){f+=ak[aa]+" "}if(K!="businessLateEstate"){phe.textBox.setValue(L,ah);phe.textBox.setValue(J,ag);phe.textBox.setValue(ao,ah);phe.textBox.setValue(am,ag);if(K!="businessPartnership"){phe.textBox.setValue(r,F);phe.textBox.setValue(q,D);phe.textBox.setValue(af,j);phe.textBox.setValue(ae,g)}}phe.textBox.setValue(E,i);phe.textBox.setValue(C,f);if(w==true){if(b||A||Q){phe.message.show(Z)}else{phe.hiddenField.setValue(h,"N");phe.hiddenField.setValue(W,"N");phe.hiddenField.setValue(a,"N");phe.hiddenField.setValue(ad,"N");phe.hiddenField.setValue(d,"Y");phe.hiddenField.setValue(H,"Y");absa.apps.contactDetails.validate(o,K)}}else{if(b){phe.hiddenField.setValue(W,"Y")}else{phe.hiddenField.setValue(W,"N")}if(A){phe.hiddenField.setValue(a,"Y")}else{phe.hiddenField.setValue(a,"N")}if(Q){phe.hiddenField.setValue(ad,"Y")}else{phe.hiddenField.setValue(ad,"N")}if(b||A||Q){phe.hiddenField.setValue(h,"Y");phe.hiddenField.setValue(d,"N");phe.hiddenField.setValue(H,"N")}else{phe.hiddenField.setValue(h,"N");phe.hiddenField.setValue(d,"Y");phe.hiddenField.setValue(H,"Y");phe.message.show(P)}phe.hiddenField.setValue(h,"Y");phe.hiddenField.setValue(d,"N");phe.hiddenField.setValue(H,"N");absa.apps.contactDetails.validate(o,K)}if(u==true){if(z||V||an){phe.message.show(Z)}else{phe.hiddenField.setValue(R,"N");phe.hiddenField.setValue(O,"N");phe.hiddenField.setValue(al,"N");phe.hiddenField.setValue(Y,"N");phe.hiddenField.setValue(G,"Y");absa.apps.contactDetails.validate(o,K)}}else{if(z){phe.hiddenField.setValue(O,"Y")}else{phe.hiddenField.setValue(O,"N")}if(V){phe.hiddenField.setValue(al,"Y")}else{phe.hiddenField.setValue(al,"N")}if(an){phe.hiddenField.setValue(Y,"Y")}else{phe.hiddenField.setValue(Y,"N")}if(z||V||an){phe.hiddenField.setValue(R,"Y");phe.hiddenField.setValue(G,"N")}else{phe.hiddenField.setValue(R,"N");phe.message.show(P);phe.hiddenField.setValue(G,"Y")}phe.hiddenField.setValue(R,"Y");phe.hiddenField.setValue(G,"N");absa.apps.contactDetails.validate(o,K)}};absa.apps.contactDetails.validate=function(b,a){if(a=="businessNonIndividual"){absa.apps.contactDetails.validateNonIndividualContactDetails(b)}else{if(a=="businessLateEstate"){absa.apps.contactDetails.validateLateEstateContactDetails(b)}else{if(a=="businessPartnership"){absa.apps.contactDetails.validatePartnershipContactDetails(b)}}}};absa.apps.contactDetails.validateNonIndividualContactDetails=function(k){if(!absa.form.validate(k)){return false}var ad=phe.hiddenField.getValue(bb.selector.query(k,".ap-changeContactDetails-clientType"));var J=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-contactPerson"));var H=phe.select.getValue(bb.selector.query(k,".ap-managePersonalDetails-designation"));var O=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-residentialAddressLine1"));var N=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-residentialAddressLine2"));var W=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-residentialSuburbRsa"));var Q=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-residentialTown"));var x=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-residentialPostalCode"));var B=phe.select.getValue(bb.selector.query(k,"#ap-residentialCountryCode"));var l=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-headOfficeAddressLine1"));var j=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-headOfficeAddressLine2"));var ae=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-headOfficeSuburbRsa"));var Z=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-headOfficeTown"));var I=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-headOfficePostalCode"));var R=phe.select.getValue(bb.selector.query(k,".ap-managePersonalDetails-headOfficeCountryCode"));var i=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-registeredAddressLine1"));var h=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-registeredAddressLine2"));var w=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-registeredSuburbRsa"));var o=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-registeredTown"));var p=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-registeredPostalCode"));var E=phe.select.getValue(bb.selector.query(k,".ap-managePersonalDetails-registeredCountryCode"));var F=phe.select.getValues(bb.selector.query(k,".ap-managePersonalDetails-countriesEntityOperatesIn"));var g=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-postalAddressLine1"));var f=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-postalAddressLine2"));var q=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-postalSuburb"));var af=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-postalTown"));var u=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-postalCode"));var U=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-homeTelephoneCode"));var ac=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-homeTelephoneNumber"));var ab=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-workTelephoneCode"));var v=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-workTelephoneNumber"));var z=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-cellphone"));var m=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-homeFaxCode"));var M=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-homeFaxNumber"));var y=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-workFaxCode"));var G=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-workFaxNumber"));var d=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-emailAdress"));var L=phe.textBox.getValue(bb.selector.query(k,".ap-contactDetails-internetWebSite"));var V=phe.select.getValue(bb.selector.query(k,".ap-managePersonalDetails-preferredContactMethod"));var P=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-selectedMarketingMaterial"));var S=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-checkBoxSMSHidden"));var A=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-checkBoxEmailHidden"));var n=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-checkBoxTelephoneHidden"));var T=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-checkBoxPostHidden"));var r=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-correspondenceLanguage"));var X=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-selectedDirectMarketingMaterial"));var t=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-checkBoxNcrSMSHidden"));var C=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-checkBoxNcrEmailHidden"));var c=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-checkBoxNcrAutoVoiceHidden"));var e=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-checkBoxNcrTelHidden"));var s=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-checkBoxNcrPostHidden"));var K=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-creditMarketingMaterial"));var a=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-checkBoxCrSMSHidden"));var D=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-checkBoxCrEmailHidden"));var aa=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-checkBoxCrTelephoneHidden"));var Y=phe.hiddenField.getValue(bb.selector.query(k,".ap-contactDetails-checkBoxCrPostHidden"));var b="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=validateContactInfoBIB&view=businessNonIndividual&clientType="+ad+"&contactPerson="+J+"&designation="+H+"&residentialAddressLine1="+O+"&residentialAddressLine2="+N+"&residentialSuburbRsa="+W+"&residentialTown="+Q+"&residentialPostalCode="+x+"&residentialCountryCode="+B+"&headOfficeAddressLine1="+l+"&headOfficeAddressLine2="+j+"&headOfficeSuburbRsa="+ae+"&headOfficeTown="+Z+"&headOfficePostalCode="+I+"&headOfficeCountryCode="+R+"&registeredAddressLine1="+i+"&registeredAddressLine2="+h+"&registeredSuburbRsa="+w+"&registeredTown="+o+"&registeredPostalCode="+p+"&registeredCountryCode="+E+"&countriesEntityOperatesIn="+F+"&postalAddressLine1="+g+"&postalAddressLine2="+f+"&postalSuburb="+q+"&postalTown="+af+"&postalCode="+u+"&homeTelephoneCode="+U+"&homeTelephoneNumber="+ac+"&workTelephoneCode="+ab+"&workTelephoneNumber="+v+"&cellphone="+z+"&homeFaxCode="+m+"&homeFaxNumber="+M+"&workFaxCode="+y+"&workFaxNumber="+G+"&emailAdress="+escape(d)+"&internetWebSite="+L+"&preferredContactMethod="+V+"&correspondenceLanguage="+r+"&nonCrInd="+X+"&nonCrSmsInd="+t+"&nonCrEmailInd="+C+"&nonCrAutoVoiceInd="+c+"&nonCrTelInd="+e+"&nonCrPostInd="+s+"&creditInd="+K+"&creditSmsInd="+a+"&creditEmailInd="+D+"&creditTelInd="+aa+"&creditPostInd="+Y;phe.loadingMessage.showLoadingMessage(k);k.style.position="relative";absa.io.makeRequest(b,function(ag){phe.loadingMessage.hideLoadingMessage(k);if(!ag.errors.length){phe.form.displayIOErrorMessage(k,false);var ak=bb.html.createElementFromString(ag.text);if(ak!=null){var ai=bb.selector.query(ak,".ap-changePersonalDetails-validationMessage");if(ai!=null){var ah=bb.selector.query(k,".ui-formFoot");var aj=bb.selector.query(ah,".ap-changePersonalDetails-validationMessage");if(aj){aj.parentNode.removeChild(aj)}ah.insertBefore(ak,ah.firstChild);absa.initializeNewContent(ak)}else{absa.form.validateAndSubmit(k)}}else{absa.form.validateAndSubmit(k)}}else{phe.form.displayIOErrorMessage(k,true)}})};absa.apps.contactDetails.validateLateEstateContactDetails=function(C){if(!absa.form.validate(C)){return false}var r=phe.hiddenField.getValue(bb.selector.query(C,".ap-changeContactDetails-cifKey"));var E=phe.hiddenField.getValue(bb.selector.query(C,".ap-changeContactDetails-clientType"));var D=phe.hiddenField.getValue(bb.selector.query(C,".ap-changeContactDetails-contactPerson"));var n=phe.textBox.getValue(bb.selector.query(C,".ap-contactDetails-postalAddressLine1"));var k=phe.textBox.getValue(bb.selector.query(C,".ap-contactDetails-postalAddressLine2"));var c=phe.textBox.getValue(bb.selector.query(C,".ap-contactDetails-postalSuburb"));var m=phe.textBox.getValue(bb.selector.query(C,".ap-contactDetails-postalTown"));var t=phe.textBox.getValue(bb.selector.query(C,".ap-contactDetails-postalCode"));var G=phe.textBox.getValue(bb.selector.query(C,".ap-contactDetails-workTelephoneCode"));var j=phe.textBox.getValue(bb.selector.query(C,".ap-contactDetails-workTelephoneNumber"));var e=phe.textBox.getValue(bb.selector.query(C,".ap-contactDetails-cellphone"));var b=phe.textBox.getValue(bb.selector.query(C,".ap-contactDetails-workFaxCode"));var f=phe.textBox.getValue(bb.selector.query(C,".ap-contactDetails-workFaxNumber"));var i=phe.textBox.getValue(bb.selector.query(C,".ap-contactDetails-emailAdress"));var B=phe.select.getValue(bb.selector.query(C,".ap-managePersonalDetails-preferredContactMethod"));var d=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-selectedMarketingMaterial"));var u=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-checkBoxSMSHidden"));var F=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-checkBoxEmailHidden"));var a=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-checkBoxTelephoneHidden"));var q=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-checkBoxPostHidden"));var l=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-correspondenceLanguage"));var A=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-selectedDirectMarketingMaterial"));var h=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-checkBoxNcrSMSHidden"));var z=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-checkBoxNcrEmailHidden"));var g=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-checkBoxNcrAutoVoiceHidden"));var p=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-checkBoxNcrTelHidden"));var y=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-checkBoxNcrPostHidden"));var H=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-creditMarketingMaterial"));var s=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-checkBoxCrSMSHidden"));var x=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-checkBoxCrEmailHidden"));var v=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-checkBoxCrTelephoneHidden"));var o=phe.hiddenField.getValue(bb.selector.query(C,".ap-contactDetails-checkBoxCrPostHidden"));var w="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=validateContactInfoBIB&view=businessLateEstate&cifKey="+r+"&clientType="+E+"&contactPerson="+D+"&postalAddressLine1="+n+"&postalAddressLine2="+k+"&postalSuburb="+c+"&postalTown="+m+"&postalCode="+t+"&workTelephoneCode="+G+"&workTelephoneNumber="+j+"&cellphone="+e+"&workFaxCode="+b+"&workFaxNumber="+f+"&emailAdress="+escape(i)+"&preferredContactMethod="+B+"&correspondenceLanguage="+l+"&nonCrInd="+A+"&nonCrSmsInd="+h+"&nonCrEmailInd="+z+"&nonCrAutoVoiceInd="+g+"&nonCrTelInd="+p+"&nonCrPostInd="+y+"&creditInd="+H+"&creditSmsInd="+s+"&creditEmailInd="+x+"&creditTelInd="+v+"&creditPostInd="+o;phe.loadingMessage.showLoadingMessage(C);C.style.position="relative";absa.io.makeRequest(w,function(I){phe.loadingMessage.hideLoadingMessage(C);if(!I.errors.length){phe.form.displayIOErrorMessage(C,false);var M=bb.html.createElementFromString(I.text);if(M!=null){var K=bb.selector.query(M,".ap-changePersonalDetails-validationMessage");if(K!=null){var J=bb.selector.query(C,".ui-formFoot");var L=bb.selector.query(J,".ap-changePersonalDetails-validationMessage");if(L){L.parentNode.removeChild(L)}J.insertBefore(M,J.firstChild);absa.initializeNewContent(M)}else{absa.form.validateAndSubmit(C)}}else{absa.form.validateAndSubmit(C)}}else{phe.form.displayIOErrorMessage(C,true)}})};absa.apps.contactDetails.validatePartnershipContactDetails=function(i){if(!absa.form.validate(i)){return false}var q=phe.hiddenField.getValue(bb.selector.query(i,".ap-hiddenField-cifKey"));var R=phe.hiddenField.getValue(bb.selector.query(i,".ap-hiddenField-clientType"));var m=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-correspondenceLanguage"));var z=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-contactPerson"));var H=phe.select.getValue(bb.selector.query(i,".ap-managePersonalDetails-designation"));var T=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-homeTelephoneCode"));var h=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-homeTelephoneNumber"));var r=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-cellphone"));var P=phe.inputReadOnlyText.getValue(bb.selector.query(i,".ap-contactDetails-residentialAddressLine1"));var N=phe.inputReadOnlyText.getValue(bb.selector.query(i,".ap-contactDetails-residentialAddressLine2"));var v=phe.inputReadOnlyText.getValue(bb.selector.query(i,".ap-contactDetails-residentialSuburbRsa"));var E=phe.inputReadOnlyText.getValue(bb.selector.query(i,".ap-contactDetails-residentialTown"));var Q=phe.inputReadOnlyText.getValue(bb.selector.query(i,".ap-contactDetails-residentialPostalCode"));var u=phe.select.getValue(bb.selector.query(i,".ap-managePersonalDetails-residentialCountryCode"));var g=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-postalAddressLine1"));var f=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-postalAddressLine2"));var l=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-postalSuburb"));var S=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-postalTown"));var p=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-postalCode"));var e=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-workTelephoneCode"));var K=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-workTelephoneNumber"));var s=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-workFaxCode"));var y=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-workFaxNumber"));var j=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-homeFaxCode"));var B=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-homeFaxNumber"));var C=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-email"));var G=phe.textBox.getValue(bb.selector.query(i,".ap-contactDetails-internetWebSite"));var J=phe.select.getValue(bb.selector.query(i,".ap-managePersonalDetails-preferredContactMethod"));var D=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-selectedMarketingMaterial"));var F=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-checkBoxSMSHidden"));var t=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-checkBoxEmailHidden"));var k=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-checkBoxTelephoneHidden"));var I=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-checkBoxPostHidden"));var L=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-selectedDirectMarketingMaterial"));var o=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-checkBoxNcrSMSHidden"));var w=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-checkBoxNcrEmailHidden"));var c=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-checkBoxNcrAutoVoiceHidden"));var d=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-checkBoxNcrTelHidden"));var n=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-checkBoxNcrPostHidden"));var A=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-creditMarketingMaterial"));var a=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-checkBoxCrSMSHidden"));var x=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-checkBoxCrEmailHidden"));var O=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-checkBoxCrTelephoneHidden"));var M=phe.hiddenField.getValue(bb.selector.query(i,".ap-contactDetails-checkBoxCrPostHidden"));var b="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=validateContactInfoBIB&view=businessPartnership&cifKey="+q+"&clientType="+R+"&correspondenceLanguage="+m+"&contactPerson="+z+"&contactDesignation="+H+"&homeCode="+T+"&homeNumber="+h+"&cellphone="+r+"&residentialAddress1="+P+"&residentialAddress2="+N+"&residentialSuburb="+v+"&residentialTown="+E+"&residentialCode="+Q+"&residentialCountryCode="+u+"&postalAddress1="+g+"&postalAddress2="+f+"&postalSuburb="+l+"&postalTown="+S+"&postalCode="+p+"&workTelephoneCode="+e+"&workTelephoneNumber="+K+"&workFaxCode="+s+"&workFaxNumber="+y+"&homeFaxCode="+j+"&homeFaxNumber="+B+"&emailAdress="+escape(C)+"&webSite="+G+"&preferredContactMethod="+J+"&nonCrInd="+L+"&nonCrSmsInd="+o+"&nonCrEmailInd="+w+"&nonCrAutoVoiceInd="+c+"&nonCrTelInd="+d+"&nonCrPostInd="+n+"&creditInd="+A+"&creditSmsInd="+a+"&creditEmailInd="+x+"&creditTelInd="+O+"&creditPostInd="+M;phe.loadingMessage.showLoadingMessage(i);i.style.position="relative";absa.io.makeRequest(b,function(U){phe.loadingMessage.hideLoadingMessage(i);if(!U.errors.length){phe.form.displayIOErrorMessage(i,false);var Y=bb.html.createElementFromString(U.text);if(Y!=null){var W=bb.selector.query(Y,".ap-changePersonalDetails-validationMessage");if(W!=null){var V=bb.selector.query(i,".ui-formFoot");var X=bb.selector.query(V,".ap-changePersonalDetails-validationMessage");if(X){X.parentNode.removeChild(X)}V.insertBefore(Y,V.firstChild);absa.initializeNewContent(Y)}else{absa.form.validateAndSubmit(i)}}else{absa.form.validateAndSubmit(i)}}else{phe.form.displayIOErrorMessage(i,true)}})};absa.apps.contactDetails.onSuburbChanged=function(a,b){absa.apps.contactDetails.setDataFileOnSuggestBox(a,b)};absa.apps.contactDetails.onCityChanged=function(a,b){absa.apps.contactDetails.setDataFileOnSuggestBox(a,b)};absa.apps.contactDetails.setDataFileOnSuggestBox=function(f,e){var d=bb.selector.queryAncestor(f,".ap-changeContactDetails-form");var g=bb.selector.query(d,".ap-contactDetails-postalCode");var c=bb.selector.query(d,"[name=postalSuburbRsa]");var a=bb.selector.query(d,"[name=postalTown]");var b;if(phe.textBox.getValue(c)!=""){b="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=postalCodeLookup&view=suggestBox&area="+phe.textBox.getValue(c)+"&language="+e;phe.suggestBox.setAttribute(g,"dataFile",b)}else{if(phe.textBox.getValue(c)==""&&phe.textBox.getValue(a)!=""){b="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=postalCodeLookup&view=suggestBox&area="+phe.textBox.getValue(a)+"&language="+e;phe.suggestBox.setAttribute(g,"dataFile",b)}else{b="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=postalCodeLookup&view=suggestBox&area=&language="+e;phe.suggestBox.setAttribute(g,"dataFile",b)}}};absa.apps.contactDetails.onIsPhysicalAddSameAsHO=function(c){var o=bb.selector.queryAncestor(c,".ap-changeContactDetails-form");var m=bb.selector.query(o,".ap-contactDetails-residentialAddressLine1");var l=bb.selector.query(o,".ap-contactDetails-residentialAddressLine2");var b=bb.selector.query(o,".ap-contactDetails-residentialSuburbRsa");var k=bb.selector.query(o,".ap-contactDetails-residentialTown");var p=bb.selector.query(o,".ap-contactDetails-residentialPostalCode");var e=bb.selector.query(o,".ap-managePersonalDetails-residentialCountryCode");var s=bb.selector.query(o,".ap-contactDetails-headOfficeAddressLine1");var r=bb.selector.query(o,".ap-contactDetails-headOfficeAddressLine2");var n=bb.selector.query(o,".ap-contactDetails-headOfficeSuburbRsa");var j=bb.selector.query(o,".ap-contactDetails-headOfficeTown");var f=bb.selector.query(o,".ap-contactDetails-headOfficePostalCode");var g=bb.selector.query(o,".ap-managePersonalDetails-headOfficeCountryCode");var t=phe.textBox.getValue(m);var a=phe.textBox.getValue(l);var d=phe.textBox.getValue(b);var h=phe.textBox.getValue(k);var q=phe.suggestBox.getValue(p);var i=phe.select.getValue(e);if(phe.checkBox.isChecked(c)){phe.textBox.setValue(s,t);phe.textBox.setValue(r,a);phe.textBox.setValue(n,d);phe.textBox.setValue(j,h);phe.suggestBox.setValue(f,q);phe.select.setValue(g,i)}else{phe.textBox.setValue(s,t);phe.textBox.setValue(r,a);phe.textBox.setValue(n,d);phe.textBox.setValue(j,h);phe.suggestBox.setValue(f,q);phe.select.setValue(g,i)}};absa.apps.contactDetails.onMarketingMaterialChecked=function(d){var f=bb.selector.queryAncestor(d,".ap-changeContactDetails-form");var c=bb.selector.query(f,".ap-contactDetails-checkBoxNcrSMS");var a=bb.selector.query(f,".ap-contactDetails-checkBoxNcrEmail");var b=bb.selector.query(f,".ap-contactDetails-checkBoxNcrAutoVoice");var e=bb.selector.query(f,".ap-contactDetails-directMarketingMaterialCheckBox");if(phe.checkBox.isChecked(d)){phe.checkBox.setAttribute(c,"checked","false");phe.checkBox.setAttribute(c,"disabled","true");absa.apps.contactDetails.onSMSChecked(c,false);phe.checkBox.setAttribute(a,"checked","false");phe.checkBox.setAttribute(a,"disabled","true");absa.apps.contactDetails.onEmailChecked(a,false);phe.checkBox.setAttribute(b,"checked","false");phe.checkBox.setAttribute(b,"disabled","true")}else{phe.checkBox.setAttribute(c,"disabled","false");phe.checkBox.setAttribute(a,"disabled","false");phe.checkBox.setAttribute(b,"disabled","false");phe.checkBox.setAttribute(e,"checked","false")}};absa.apps.contactDetails.onCreditMarketingMaterialChecked=function(d){var f=bb.selector.queryAncestor(d,".ap-changeContactDetails-form");var b=bb.selector.query(f,".ap-contactDetails-checkBoxCrSMS");var c=bb.selector.query(f,".ap-contactDetails-checkBoxCrEmail");var e=bb.selector.query(f,".ap-contactDetails-checkBoxCrTelephone");var a=bb.selector.query(f,".ap-contactDetails-elecMarketingMaterialCheckBox");if(phe.checkBox.isChecked(d)){phe.checkBox.setValue(d,"N");phe.checkBox.setAttribute(b,"checked","false");phe.checkBox.setAttribute(b,"disabled","true");absa.apps.contactDetails.onSMSChecked(b,true);phe.checkBox.setAttribute(c,"checked","false");phe.checkBox.setAttribute(c,"disabled","true");absa.apps.contactDetails.onEmailChecked(c,true);phe.checkBox.setAttribute(e,"checked","false");phe.checkBox.setAttribute(e,"disabled","true");phe.checkBox.setAttribute(a,"disabled","false")}else{phe.checkBox.setValue(d,"Y");phe.checkBox.setAttribute(b,"disabled","false");phe.checkBox.setAttribute(c,"disabled","false");phe.checkBox.setAttribute(a,"disabled","false");phe.checkBox.setAttribute(a,"checked","false");phe.checkBox.setAttribute(e,"disabled","false")}};absa.apps.contactDetails.onCrNoChecked=function(d){var f=bb.selector.queryAncestor(d,".ap-changeContactDetails-form");var a=bb.selector.query(f,".ap-contactDetails-checkBoxCrSMS");var b=bb.selector.query(f,".ap-contactDetails-checkBoxCrEmail");var c=bb.selector.query(f,".ap-contactDetails-elecMarketingMaterialCheckBox");var e=bb.selector.query(f,".ap-contactDetails-checkBoxCrTelephone");if(phe.checkBox.isChecked(d)){phe.checkBox.setAttribute(a,"disabled","true");phe.checkBox.setAttribute(a,"checked","false");phe.checkBox.setAttribute(b,"disabled","true");phe.checkBox.setAttribute(b,"checked","false");phe.checkBox.setAttribute(e,"disabled","true");phe.checkBox.setAttribute(e,"checked","false");phe.checkBox.setAttribute(c,"disabled","true");phe.checkBox.setAttribute(c,"checked","false")}else{phe.checkBox.setAttribute(a,"disabled","false");absa.apps.contactDetails.onSMSChecked(a);phe.checkBox.setAttribute(b,"disabled","false");absa.apps.contactDetails.onEmailChecked(b);phe.checkBox.setAttribute(e,"disabled","false");phe.checkBox.setAttribute(c,"disabled","false");if(isWorkPhone){absa.apps.contactDetails.onTelephoneCheckedWork(e)}else{absa.apps.contactDetails.onTelephoneCheckedHome(e)}}};absa.apps.contactDetails.nonsenseFuncA=function(a){var c=bb.selector.queryAncestor(a,".ap-changeContactDetails-form");var b=bb.selector.query(c,".ap-contactDetails-cellphone")};absa.apps.contactDetails.nonsenseFuncB=function(a){var c=bb.selector.queryAncestor(a,".ap-changeContactDetails-form");var b=bb.selector.query(c,".ap-contactDetails-cellphone")};absa.apps.contactDetails.nonsenseFuncC=function(a){var c=bb.selector.queryAncestor(a,".ap-changeContactDetails-form");var b=bb.selector.query(c,".ap-contactDetails-cellphone")};absa.apps.contactDetails.nonsenseFuncD=function(a){var c=bb.selector.queryAncestor(a,".ap-changeContactDetails-form");var b=bb.selector.query(c,".ap-contactDetails-cellphone")};absa.apps.contactDetails.nonsenseFuncE=function(a){var c=bb.selector.queryAncestor(a,".ap-changeContactDetails-form");var b=bb.selector.query(c,".ap-contactDetails-cellphone")};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.employmentDetails=absa.apps.employmentDetails||{};absa.apps.employmentDetails.onResetClick=function(d){var b=bb.selector.queryAncestor(d,".ap-employmentDetails-content");var c=bb.selector.query(b,".ap-employmentDetails-redeemDropDown");var e=bb.selector.queryAncestor(d,".ap-changeEmploymentDetails-form");if(phe.select.getValue(c)=="2"){var a=bb.selector.query(e,".ap-employmentDetails-networkType");phe.form.reset(e);absa.apps.employmentDetails.onSelectNetwork(a)}else{phe.form.reset(e)}};absa.apps.employmentDetails.onSelectNetwork=function(b){var a=phe.select.getValue(b);var e=bb.selector.queryAncestor(b,".ap-employmentDetails-body");var d=bb.selector.queryAll(e,".ap-employmentDetails-amount");for(var c=0;c<d.length;c++){if(phe.select.getAttribute(d[c],"data-provider")==a){phe.select.show(d[c])}else{phe.select.hide(d[c])}}};absa.apps.employmentDetails.onSaTaxNumberRegisteredChange=function(g){var k=phe.radioGroup.getRadioItems(g);var t=bb.selector.queryAncestor(g,".ap-financialDetails-taxRegisteredDiv");var i=bb.selector.query(t,".ap-financialDetails-taxDetail");var m=bb.selector.query(t,".ap-financialDetails-foreignCountry");var s=bb.selector.query(t,".ap-financialDetails-yesSAInfoTaxNumber");var n=bb.selector.query(t,".ap-financialDetails-noSATaxInfoReason");var h=bb.selector.query(t,".ap-financialDetails-foreignTaxDetailsGrid");var l=bb.selector.query(t,".ap-financialDetails-addForeignCountryLink");var a=bb.selector.query(t,".ap-financialDetails-addedCountryCount");var o=phe.hiddenField.getValue(a);var d=bb.selector.query(t,".ap-financialDetails-foreignTaxCountryRadio");var e=phe.radioGroup.getRadioItems(d);var r=bb.selector.queryAncestor(t,".ap-changeEmploymentDetails-form");if(r==null){r=bb.selector.queryAncestor(t,".ap-changeContactDetails-form")}var c=bb.selector.query(r,".ap-employmentDetails-isSaTaxRegistered");var p=phe.hiddenField.getValue(c);if(k[0].checked){phe.row.setAttribute(i,"style","display:block");phe.row.setAttribute(m,"style","display:block");var b=bb.selector.query(t,".ap-financialDetails-saTaxDetailsRadio");var j=phe.radioGroup.getRadioItems(b);j[0].checked=false;j[1].checked=true;phe.row.setAttribute(n,"style","display:block");if(p==""){j[0].checked=false;j[1].checked=true;phe.row.setAttribute(n,"style","display:block");phe.row.setAttribute(s,"style","display:none")}}else{if(k[1].checked){phe.row.setAttribute(m,"style","display:block");phe.row.setAttribute(i,"style","display:none");phe.row.setAttribute(n,"style","display:none");phe.row.setAttribute(s,"style","display:none");var f=bb.selector.query(t,".ap-financialDetails-foreignTaxCountryRadio");var q=phe.radioGroup.getRadioItems(f);if(q[0].checked){phe.row.setAttribute(h,"style","display:block");if(parseInt(o)<4){phe.row.setAttribute(l,"style","display:block")}else{phe.row.setAttribute(l,"style","display:none")}}else{if(q[1].checked){phe.row.setAttribute(h,"style","display:none");phe.row.setAttribute(l,"style","display:none")}}if(p==""){q[0].checked=false;q[1].checked=true;phe.row.setAttribute(l,"style","display:none")}}}};absa.apps.employmentDetails.onSaTaxDetailsChange=function(g){var d=phe.radioGroup.getRadioItems(g);var b=bb.selector.queryAncestor(g,".ap-financialDetails-taxRegisteredDiv");var f=bb.selector.query(b,".ap-financialDetails-yesSAInfoTaxNumber");var a=bb.selector.query(b,".ap-financialDetails-noSATaxInfoReason");var c=bb.selector.query(b,".ap-employmentDetailsSa-taxRefNo");var e=bb.selector.query(b,".ap-financialDetails-reason");if(d[0].checked){e.options[0].value="";e.options[0].selected="true";phe.row.setAttribute(a,"style","display:none");phe.row.setAttribute(f,"style","display:block");phe.textBox.setAttribute(c,"value","")}else{if(d[1].checked){phe.row.setAttribute(a,"style","display:block");phe.row.setAttribute(f,"style","display:none");phe.textBox.setAttribute(c,"value","")}}};absa.apps.employmentDetails.onForeignCountryRegisteredChange=function(d){var e=phe.radioGroup.getRadioItems(d);var c=bb.selector.queryAncestor(d,".ap-financialDetails-taxRegisteredDiv");var a=bb.selector.query(c,".ap-financialDetails-addForeignCountryLink");var g=bb.selector.query(c,".ap-financialDetails-foreignTaxDetailsGrid");var b=bb.selector.query(c,".ap-financialDetails-addedCountryCount");var f=phe.hiddenField.getValue(b);if(e[0].checked){phe.row.setAttribute(g,"style","display:block");var h=bb.selector.queryAncestor(c,".ap-changeEmploymentDetails-form");if(h==null){h=bb.selector.queryAncestor(c,".ap-changeContactDetails-form")}var i=bb.selector.query(h,".ap-employmentDetails-isSaTaxRegistered");if(parseInt(f)==0){absa.apps.employmentDetails.addForeignTaxCountry(g,b,i)}if(parseInt(f)!=4){phe.row.setAttribute(a,"style","display:block")}}else{if(e[1].checked){phe.row.setAttribute(a,"style","display:none");phe.row.setAttribute(g,"style","display:none")}}};absa.apps.employmentDetails.addNewForeignTaxDetail=function(f){var b=bb.selector.queryAncestor(f,".ap-financialDetails-taxRegisteredDiv");var h=bb.selector.query(b,".ap-financialDetails-addForeignCountryLink");var g=bb.selector.query(b,".ap-financialDetails-foreignTaxDetailsGrid");var c=bb.selector.query(b,".ap-financialDetails-addedCountryCount");var e=parseInt(phe.hiddenField.getValue(c));if(parseInt(e)>=3){phe.row.setAttribute(h,"style","display:none")}else{phe.row.setAttribute(h,"style","display:block")}var d=bb.selector.queryAncestor(b,".ap-changeEmploymentDetails-form");if(d==null){d=bb.selector.queryAncestor(b,".ap-changeContactDetails-form")}var a=bb.selector.query(d,".ap-employmentDetails-isSaTaxRegistered");if(e<4){absa.apps.employmentDetails.addForeignTaxCountry(g,c,a)}};absa.apps.employmentDetails.addForeignTaxCountry=function(f,c,a){var e=parseInt(phe.hiddenField.getValue(c));var b=phe.hiddenField.getValue(a);var d="proxy?pipe=genericEmptyResponse&xslFile=Profile/PersonalInformation/foreignTaxCountryInformation&isSaTaxRegistered="+b;absa.io.makeRequest(d,function(i){if(!i.errors.length){var l=bb.html.createElementFromString(i.text);if(f){f.appendChild(l);e=parseInt(e)+1;phe.hiddenField.setValue(c,e);var j=bb.selector.query(l,".ap-foreigntax-details");var k=bb.selector.query(l,".ap-taxdetails-fodetailsyes");var h=bb.selector.query(l,".ap-taxdetails-fodetailsno");var g=Math.random();phe.radioItem.setAttribute(k,"name","foreignTaxDetail"+g);phe.radioItem.setAttribute(h,"name","foreignTaxDetail"+g);phe.radioGroup.setAttribute(j,"name","isFcTaxNoAvailable")}}})};absa.apps.employmentDetails.onForeignCountryTaxDetailsChange=function(d){var f=phe.radioGroup.getRadioItems(d);var b=bb.selector.queryAncestor(d,".ap-financialDetails-foreignTaxDetailsRows");var e=bb.selector.query(b,".ap-financialDetails-foreignTaxReasonRow");var a=bb.selector.query(b,".ap-financialDetails-foreignTaxNoRow");var g=bb.selector.query(b,".ap-financialDetails-reason");var c=bb.selector.query(b,".ap-financialDetails-foreignTaxNo");if(f[0].checked){g.options[0].value="";g.options[0].selected="true";phe.row.setAttribute(e,"style","display:none");phe.row.setAttribute(a,"style","display:block");phe.textBox.setAttribute(c,"value","")}else{if(f[1].checked){phe.row.setAttribute(e,"style","display:block");phe.row.setAttribute(a,"style","display:none");phe.select.setAttribute(g,"selected","");phe.textBox.setAttribute(c,"value","")}}};absa.apps.employmentDetails.removeForeignTaxDetail=function(d){var c=bb.selector.queryAncestor(d,".ap-financialDetails-taxRegisteredDiv");var h=bb.selector.queryAncestor(d,".ap-financialDetails-foreignTaxDetailsRows");var g=bb.selector.query(c,".ap-financialDetails-foreignTaxDetailsGrid");g.removeChild(h);var b=bb.selector.query(c,".ap-financialDetails-addedCountryCount");var f=parseInt(phe.hiddenField.getValue(b));phe.hiddenField.setValue(b,parseInt(f)-1);var a=bb.selector.query(c,".ap-financialDetails-addForeignCountryLink");phe.row.setAttribute(a,"style","display:block");var b=bb.selector.query(c,".ap-financialDetails-addedCountryCount");var f=parseInt(phe.hiddenField.getValue(b));if(parseInt(f)<1){phe.row.setAttribute(a,"style","display:none");var e=bb.selector.query(c,".ap-financialDetails-foreignTaxCountryRadio");var i=phe.radioGroup.getRadioItems(e);i[0].checked=false;i[1].checked=true}};absa.apps.employmentDetails.onConfirmButtonClick=function(f){var q=bb.selector.queryAncestor(f,".ap-changeEmploymentDetails-form");var h=bb.selector.query(q,".ap-employmentDetails-socialGrant");var i=bb.selector.query(q,".ap-employmentDetails-creditInformation");var m=bb.selector.query(q,".ap-employmentDetails-debitCounselling");var g=bb.selector.query(q,".ap-employmentDetails-counsellingConsent");var d=bb.selector.query(q,".ap-employmentDetails-postMetricInd");var c=bb.selector.query(q,".ap-employmentDetails-socialGrantHidden");var s=bb.selector.query(q,".ap-employmentDetails-creditInformationHidden");var r=bb.selector.query(q,".ap-employmentDetails-debitCounsellingHidden");var l=bb.selector.query(q,".ap-employmentDetails-counsellingConsentHidden");var e=bb.selector.query(q,".ap-employmentDetails-postMetricIndHidden");var p=phe.checkBox.isChecked(h);var a=phe.checkBox.isChecked(i);var t=phe.checkBox.isChecked(m);var o=phe.checkBox.isChecked(g);var b=phe.checkBox.isChecked(d);var k=bb.selector.query(q,".ap-isRegisteredFor-SaTax");if(k!=null){var n=phe.radioGroup.getRadioItems(k);var j=bb.selector.query(q,".ap-employmentDetails-saTaxErrorMsg");phe.message.hide(j)}if(p){phe.hiddenField.setValue(c,"Y")}else{phe.hiddenField.setValue(c,"N")}if(a){phe.hiddenField.setValue(s,"Y")}else{phe.hiddenField.setValue(s,"N")}if(t){phe.hiddenField.setValue(r,"Y")}else{phe.hiddenField.setValue(r,"N")}if(o){phe.hiddenField.setValue(l,"Y")}else{phe.hiddenField.setValue(l,"N")}if(b){phe.hiddenField.setValue(e,"Y")}else{phe.hiddenField.setValue(e,"N")}if(k!=null){if(n[0].checked||n[1].checked){if(absa.form.validate(q)){absa.apps.employmentDetails.validateEmploymentDetails(q)}}else{phe.message.show(j)}}else{if(absa.form.validate(q)){absa.apps.employmentDetails.validateEmploymentDetails(q)}}};absa.apps.employmentDetails.validateEmploymentDetails=function(g){var K=phe.hiddenField.getValue(bb.selector.query(g,".ap-changeEmploymentDetails-clientType"));var B=phe.select.getValue(bb.selector.query(g,".ap-managePersonalDetails-highestLvlOfEducation"));var N=phe.hiddenField.getValue(bb.selector.query(g,".ap-employmentDetails-postMetricIndHidden"));var a=phe.select.getValue(bb.selector.query(g,".ap-managePersonalDetails-occupationStatus"));var w=phe.select.getValue(bb.selector.query(g,".ap-managePersonalDetails-occupation"));var h=phe.select.getValue(bb.selector.query(g,".ap-managePersonalDetails-occupationLevel"));var J=phe.select.getValue(bb.selector.query(g,".ap-managePersonalDetails-occupationSector"));var A=phe.textBox.getValue(bb.selector.query(g,".ap-employmentDetails-addressLine1"));var z=phe.textBox.getValue(bb.selector.query(g,".ap-employmentDetails-addressLine2"));var u=phe.textBox.getValue(bb.selector.query(g,".ap-employmentDetails-employerSuburbRsa"));var F=phe.textBox.getValue(bb.selector.query(g,".ap-employmentDetails-employerTown"));var s=phe.textBox.getValue(bb.selector.query(g,".ap-employmentDetails-employerPostalCode"));var n=phe.textBox.getValue(bb.selector.query(g,".ap-employmentDetails-empWorkTelephoneCode"));var r=phe.textBox.getValue(bb.selector.query(g,".ap-employmentDetails-empWorkNumber"));var D=phe.hiddenField.getValue(bb.selector.query(g,".ap-employmentDetails-empWorkTelephoneExtn"));var E=phe.textBox.getValue(bb.selector.query(g,".ap-employmentDetails-empFaxWorkCode"));var p=phe.textBox.getValue(bb.selector.query(g,".ap-employmentDetails-empWorkFaxNumber"));var e=phe.select.getValue(bb.selector.query(g,".ap-managePersonalDetails-monthlyIncome"));var C=phe.textBox.getValue(bb.selector.query(g,".ap-employmentDetails-taxRefNo"));var O=phe.hiddenField.getValue(bb.selector.query(g,".ap-employmentDetails-socialGrantHidden"));var G=phe.hiddenField.getValue(bb.selector.query(g,".ap-employmentDetails-debitCounsellingHidden"));var f=phe.hiddenField.getValue(bb.selector.query(g,".ap-employmentDetails-debtCounsellingDate"));var v=phe.hiddenField.getValue(bb.selector.query(g,".ap-employmentDetails-creditInformationHidden"));var M=phe.hiddenField.getValue(bb.selector.query(g,".ap-employmentDetails-counsellingConsentHidden"));var j=phe.hiddenField.getValue(bb.selector.query(g,".ap-employmentDetails-debtCounsellingConsentDate"));var c=phe.hiddenField.getValue(bb.selector.query(g,".ui-hiddenField[name=homeLanguage]"));var l=phe.hiddenField.getValue(bb.selector.query(g,".ap-changeEmploymentDetails-correspondenceLanguage"));var k=phe.select.getValue(bb.selector.query(g,".ap-managePersonalDetails-sourceOfIncome"));var d=bb.selector.query(g,".ap-isRegisteredFor-SaTax");var I=bb.selector.query(g,".ap-financialDetails-foreignTaxCountryRadio");var y=phe.select.getValue(bb.selector.query(g,".ap-financialDetails-reason"));var x=phe.textBox.getValue(bb.selector.query(g,".ap-employmentDetailsSa-taxRefNo"));var q=bb.selector.queryAll(g,".ap-foreignTaxCountry");var L=bb.selector.queryAll(g,".ap-financialDetails-reason");var o=bb.selector.queryAll(g,".ap-financialDetails-foreignTaxNo");var m=phe.radioGroup.getRadioItems(d);var t=phe.radioGroup.getRadioItems(I);var b="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=validateEmploymentFinanceInfo&clientType="+K+"&highestLvlOfEducation="+B+"&postMetricInd="+N+"&occupationStatus="+a+"&occupation="+w+"&occupationLevel="+h+"&occupationSector="+J+"&employerAddressLine1="+A+"&employerAddressLine2="+z+"&employerSuburbRsa="+u+"&employerTown="+F+"&employerPostalCode="+s+"&empWorkTelephoneCode="+n+"&empWorkNumber="+r+"&empWorkTelephoneExtn="+D+"&empFaxWorkCode="+E+"&empWorkFaxNumber="+p+"&monthlyIncome="+e+"&taxRefNo="+C+"&socialGrantFlag="+O+"&debtCounsellingFlag="+G+"&debtCounsellingDate="+f+"&creditWorthinessFlag="+v+"&debtCounsellingConsentFlag="+M+"&homeLanguage="+c+"&correspondenceLanguage="+l+"&debtCounsellingConsentDate="+j+"&sourceOfIncome="+k+"&reasonNotGivenSaTaxNumber="+y+"&saIncomeTaxNumber="+x;for(var H=0;H<o.length;H++){b=b+"&foreignTaxCountry="+phe.select.getValue(q[H])+"&rsonForForeignTaxnotGiven="+phe.select.getValue(L[H])+"&foreignTaxNumber="+phe.select.getValue(o[H])}if(m[0].checked){b=b+"&areYouRegisteredSaTax=Y"}else{if(m[1].checked){b=b+"&areYouRegisteredSaTax=N"}}if(t[0].checked){b=b+"&areYouRegisteredForeignTax=Y"}else{if(t[1].checked){b=b+"&areYouRegisteredForeignTax=N"}}phe.loadingMessage.showLoadingMessage(g);g.style.position="relative";absa.io.makeRequest(b,function(i){phe.loadingMessage.hideLoadingMessage(g);if(!i.errors.length){phe.form.displayIOErrorMessage(g,false);var S=bb.html.createElementFromString(i.text);if(S!=null){var Q=bb.selector.query(S,".ap-changePersonalDetails-validationMessage");if(Q!=null){var P=bb.selector.query(g,".ui-formFoot");var R=bb.selector.query(P,".ap-changePersonalDetails-validationMessage");if(R){R.parentNode.removeChild(R)}P.insertBefore(S,P.firstChild);absa.initializeNewContent(S)}else{absa.form.validateAndSubmit(g)}}else{absa.form.validateAndSubmit(g)}}else{phe.form.displayIOErrorMessage(g,true)}})};absa.apps.employmentDetails.onSuburbChanged=function(a,b){absa.apps.employmentDetails.setDataFileOnSuggestBox(a,b)};absa.apps.employmentDetails.onCityChanged=function(a,b){absa.apps.employmentDetails.setDataFileOnSuggestBox(a,b)};absa.apps.employmentDetails.setDataFileOnSuggestBox=function(f,e){var d=bb.selector.queryAncestor(f,".ap-changeEmploymentDetails-form");var g=bb.selector.query(d,".ap-employmentDetails-employerPostalCode");var c=bb.selector.query(d,"[name=employerSuburbRsa]");var a=bb.selector.query(d,"[name=employerTown]");var b;if(phe.textBox.getValue(c)!=""){b="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=postalCodeLookup&view=suggestBox&area="+phe.textBox.getValue(c)+"&language="+e;phe.suggestBox.setAttribute(g,"dataFile",b)}else{if(phe.textBox.getValue(c)==""&&phe.textBox.getValue(a)!=""){b="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=postalCodeLookup&view=suggestBox&area="+phe.textBox.getValue(a)+"&language="+e;phe.suggestBox.setAttribute(g,"dataFile",b)}else{b="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=postalCodeLookup&view=suggestBox&area=&language="+e;phe.suggestBox.setAttribute(g,"dataFile",b)}}phe.suggestBox.setValue(g,"")};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.managePersonalInformation=absa.apps.managePersonalInformation||{};absa.apps.managePersonalInformation.onModalClose=function(b){var a=bb.selector.query(b,".ap-managePersonalDetails-wizard");var c=phe.wizard.getCurrentStepIndex(a);if(c==5){absa.apps.managePersonalInformation.reloadTab()}};absa.apps.managePersonalInformation.reloadTab=function(){var d=bb.selector.query(window.document,".ui-expanded-row");var c=d.nextSibling;var b=bb.selector.query(c,".ap-managePersonalDetails-tabBox");var a=phe.tabBox.getCurrentTabBody(b);phe.tabBox.reloadTab(a)};absa.apps.managePersonalInformation.onModalFinishClick=function(){phe.modal.hideModal();absa.apps.managePersonalInformation.reloadTab()};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.personalInformation=absa.apps.personalInformation||{};absa.apps.personalInformation.onDateOfBirthChanged=function(c){var d=bb.selector.queryAncestor(c,".ap-changePersonalDetails-form");var a=bb.selector.query(d,".ap-changePersonalDetails-dateOfBirthHidden");var b=phe.datePicker.getValue(c);if(absa.form.validate.checkElement(c)){phe.hiddenField.setValue(a,b.substr(0,4)+b.substr(5,2)+b.substr(8,2))}};absa.apps.personalInformation.resizeMultilineFields=function(c){var b=bb.selector.queryAll(c,".ui-inputReadOnlyText-multiline");for(var a=0;a<b.length;a++){b[a].style.height="1px";b[a].style.height=(b[a].scrollHeight)+"px"}};absa.apps.personalInformation.loadTab=function(a){var b=bb.selector.query(a,".ui-tabHead");phe.tabBox.selectTab(b,false)};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.generalInformation=absa.apps.generalInformation||{};absa.apps.generalInformation.onNextButtonClick=function(c){var d=bb.selector.queryAncestor(c,".ap-changePersonalDetails-form");var b=bb.selector.query(d,".ap-generalDetails-creditInformation");var e=bb.selector.query(d,".ap-generalDetails-creditInformationHidden");var a=phe.checkBox.isChecked(b);if(a){phe.hiddenField.setValue(e,"Y")}else{phe.hiddenField.setValue(e,"N")}absa.form.validateAndSubmit(d)};absa.apps.generalInformation.onResetClicked=function(d,f){var e=bb.selector.queryAncestor(d,".ap-changePersonalDetails-form");var b=bb.selector.queryAncestor(e,".ui-modalBody");var a=bb.selector.queryAncestor(e,".ap-managePersonalDetails-wizard");var c=b.getAttribute("proxyurl");phe.loadingMessage.showLoadingMessage(b);absa.io.makeRequest(c,function(g){phe.loadingMessage.hideLoadingMessage(b);if(!g.errors.length){phe.form.displayIOErrorMessage(e,false);var h=bb.html.createElementFromString(g.text);a.parentNode.replaceChild(h,a);absa.initializeNewContent(h)}else{phe.form.displayIOErrorMessage(e,true)}})};absa.apps.generalInformation.removeSelectOptions=function(b){var c=b.options.length;for(var a=1;a<c;a++){b.options.remove(1)}};absa.apps.generalInformation.onMajorDivisionSelected=function(e,i){var h=bb.selector.queryAncestor(e,".ap-changePersonalDetails-form");var b=bb.selector.query(h,".ap-managePersonalDetails-division");var d=bb.selector.query(h,".ap-managePersonalDetails-majorGroup");var g=bb.selector.query(h,".ap-managePersonalDetails-group");var c=bb.selector.query(h,".ap-managePersonalDetails-typeOfBusiness");var f=bb.selector.queryAncestor(b,".ap-changePersonalDetails-containerCell");var a="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=getSICCodes&itemCode="+phe.select.getValue(e)+"&language="+i+"&dropDownName=division";phe.loadingMessage.showLoadingMessage(f);absa.io.makeRequest(a,function(j){phe.loadingMessage.hideLoadingMessage(f);if(!j.errors.length){phe.form.displayIOErrorMessage(h,false);var k=bb.html.createElementFromString(j.text);b.parentNode.replaceChild(k,b);absa.initializeNewContent(k)}else{phe.form.displayIOErrorMessage(h,true)}});absa.apps.generalInformation.removeSelectOptions(d);absa.apps.generalInformation.removeSelectOptions(g);absa.apps.generalInformation.removeSelectOptions(c)};absa.apps.generalInformation.onDivisionSelected=function(a,h){var g=bb.selector.queryAncestor(a,".ap-changePersonalDetails-form");var b=bb.selector.query(g,".ap-managePersonalDetails-majorGroup");var d=bb.selector.query(g,".ap-managePersonalDetails-group");var f=bb.selector.query(g,".ap-managePersonalDetails-typeOfBusiness");var c=bb.selector.queryAncestor(b,".ap-changePersonalDetails-containerCell");var e="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=getSICCodes&itemCode="+phe.select.getValue(a)+"&language="+h+"&dropDownName=majorGroup";phe.loadingMessage.showLoadingMessage(c);absa.io.makeRequest(e,function(i){phe.loadingMessage.hideLoadingMessage(c);if(!i.errors.length){phe.form.displayIOErrorMessage(g,false);var j=bb.html.createElementFromString(i.text);b.parentNode.replaceChild(j,b);absa.initializeNewContent(j)}else{phe.form.displayIOErrorMessage(g,true)}});absa.apps.generalInformation.removeSelectOptions(d);absa.apps.generalInformation.removeSelectOptions(f)};absa.apps.generalInformation.onMajorGroupSelected=function(a,g){var f=bb.selector.queryAncestor(a,".ap-changePersonalDetails-form");var c=bb.selector.query(f,".ap-managePersonalDetails-group");var e=bb.selector.query(f,".ap-managePersonalDetails-typeOfBusiness");var b=bb.selector.queryAncestor(c,".ap-changePersonalDetails-containerCell");var d="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=getSICCodes&itemCode="+phe.select.getValue(a)+"&language="+g+"&dropDownName=group";phe.loadingMessage.showLoadingMessage(b);absa.io.makeRequest(d,function(h){phe.loadingMessage.hideLoadingMessage(b);if(!h.errors.length){phe.form.displayIOErrorMessage(f,false);var i=bb.html.createElementFromString(h.text);c.parentNode.replaceChild(i,c);absa.initializeNewContent(i)}else{phe.form.displayIOErrorMessage(f,true)}});absa.apps.generalInformation.removeSelectOptions(e)};absa.apps.generalInformation.onGroupSelected=function(b,f){var e=bb.selector.queryAncestor(b,".ap-changePersonalDetails-form");var d=bb.selector.query(e,".ap-managePersonalDetails-typeOfBusiness");var a=bb.selector.queryAncestor(d,".ap-changePersonalDetails-containerCell");var c="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=getSICCodes&itemCode="+phe.select.getValue(b)+"&language="+f+"&dropDownName=typeOfBusiness";phe.loadingMessage.showLoadingMessage(a);absa.io.makeRequest(c,function(g){phe.loadingMessage.hideLoadingMessage(a);if(!g.errors.length){phe.form.displayIOErrorMessage(e,false);var h=bb.html.createElementFromString(g.text);d.parentNode.replaceChild(h,d);absa.initializeNewContent(h)}else{phe.form.displayIOErrorMessage(e,true)}})};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.nextKinOfDetails=absa.apps.nextKinOfDetails||{};absa.apps.nextKinOfDetails.validateBusinessSoleNextKinOfDetails=function(l){var n=bb.selector.queryAncestor(l,".ap-nextOfKinDetails-form");var b=phe.hiddenField.getValue(bb.selector.query(n,".ap-changeNextOfKinDetails-clientType"));var i=phe.hiddenField.getValue(bb.selector.query(n,".ap-changeNextOfKinDetails-cifKey"));var h=phe.textBox.getValue(bb.selector.query(n,".ap-nextOfKinDetails-nkSurname"));var f=phe.textBox.getValue(bb.selector.query(n,".ap-nextOfKinDetails-nkFirstNames"));var a=phe.select.getValue(bb.selector.query(n,".ap-managePersonalDetails-nkRelationship"));var k=phe.textBox.getValue(bb.selector.query(n,".ap-contactDetails-phoneCode"));var g=phe.textBox.getValue(bb.selector.query(n,".ap-nextOfKin-phoneNumber"));var e=phe.textBox.getValue(bb.selector.query(n,".ap-contactDetails-phoneCodeWork"));var j=phe.textBox.getValue(bb.selector.query(n,".ap-nextOfKin-phoneNumberWork"));var d=phe.textBox.getValue(bb.selector.query(n,".ap-nextOfKinDetails-nkCellphoneNbr"));var m=phe.textBox.getValue(bb.selector.query(n,".ap-nextOfKinDetails-nkEmail"));var c="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=validateNextOfKinInfoBIB&view=businessSole&clientType="+b+"&cifKey="+i+"&nkSurname="+h+"&nkFirstNames="+f+"&nkRelationship="+a+"&nkHomeTelephoneCode="+k+"&nkHomeTelephoneNumber="+g+"&nkWorkTelephoneCode="+e+"&nkWorkTelephoneNumber="+j+"&nkCellphone="+d+"&nkEmail="+m;phe.loadingMessage.showLoadingMessage(n);n.style.position="relative";absa.io.makeRequest(c,function(o){phe.loadingMessage.hideLoadingMessage(n);if(!o.errors.length){phe.form.displayIOErrorMessage(n,false);var s=bb.html.createElementFromString(o.text);if(s!=null){var q=bb.selector.query(s,".ap-changePersonalDetails-validationMessage");if(q!=null){var p=bb.selector.query(n,".ui-formFoot");var r=bb.selector.query(p,".ap-changePersonalDetails-validationMessage");if(r){r.parentNode.removeChild(r)}p.insertBefore(s,p.firstChild);absa.initializeNewContent(s)}else{absa.form.validateAndSubmit(n)}}else{absa.form.validateAndSubmit(n)}}else{phe.form.displayIOErrorMessage(n,true)}})};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.jointParticipantInformation=absa.apps.jointParticipantInformation||{};absa.apps.jointParticipantInformation.validateJointParticipantDetails=function(h){var w=bb.selector.queryAncestor(h,".ap-changeJointParticipantDetails-form");if(!absa.form.validate(w)){return false}var k=phe.hiddenField.getValue(bb.selector.query(w,".ap-hiddenField-cifKey"));var z=phe.hiddenField.getValue(bb.selector.query(w,".ap-hiddenField-clientType"));var d=phe.hiddenField.getValue(bb.selector.query(w,".ap-hiddenField-correspondenceLanguage"));var r=bb.selector.queryAll(w,".ap-managePersonalDetails-jointTitle");var F=bb.selector.queryAll(w,".ap-jointDetails-addressLine1");var b=bb.selector.queryAll(w,".ap-jointDetails-homeCode");var l=bb.selector.queryAll(w,".ap-jointDetails-homeNumber");var x=bb.selector.queryAll(w,".ap-jointDetails-firstNames");var E=bb.selector.queryAll(w,".ap-jointDetails-addressLine2");var m=bb.selector.queryAll(w,".ap-jointDetails-workCode");var u=bb.selector.queryAll(w,".ap-jointDetails-workNumber");var e=bb.selector.queryAll(w,".ap-jointDetails-intials");var q=bb.selector.queryAll(w,".ap-jointDetails-suburb");var c=bb.selector.queryAll(w,".ap-jointDetails-cellphone");var s=bb.selector.queryAll(w,".ap-jointDetails-surname");var g=bb.selector.queryAll(w,".ap-jointDetails-town");var D=bb.selector.queryAll(w,".ap-managePersonalDetails-jointIdentityType");var B=bb.selector.queryAll(w,".ap-jointDetails-postalCode");var p=bb.selector.queryAll(w,".ap-jointDetails-identityNumber");var A=bb.selector.queryAll(w,".ap-jointDetails-dateOfBirth");var C=bb.selector.queryAll(w,".ap-managePersonalDetails-jointNationality");var y=bb.selector.queryAll(w,".ap-managePersonalDetails-jointCountryOfBirth");var j=bb.selector.queryAll(w,".ap-managePersonalDetails-jointCountryOfOrigin");var f=bb.selector.queryAll(w,".ap-managePersonalDetails-jointCountryCode");var o=bb.selector.queryAll(w,".ap-managePersonalDetails-jointSourceOfIncome");var n=bb.selector.queryAll(w,".ap-managePersonalDetails-jointOccupationStatus");var a=bb.selector.queryAll(w,".ap-managePersonalDetails-jointOccupationCode");var t="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=validateJointParticipantInfoBIB&cifKey="+k+"&clientType="+z+"&correspondenceLanguage="+d;for(var v=0;v<r.length;v++){t=t+"&jointTitle="+phe.select.getValue(r[v])+"&jointAddressLine1="+phe.textBox.getValue(F[v])+"&jointhomeCode="+phe.textBox.getValue(b[v])+"&jointHomeNumber="+phe.textBox.getValue(l[v])+"&jointFirstNames="+phe.textBox.getValue(x[v])+"&jointAddressLine2="+phe.textBox.getValue(E[v])+"&jointWorkCode="+phe.textBox.getValue(m[v])+"&jointWorkNumber="+phe.textBox.getValue(u[v])+"&jointInitials="+phe.inputReadOnlyText.getValue(e[v])+"&jointSuburb="+phe.textBox.getValue(q[v])+"&jointCellphone="+phe.textBox.getValue(c[v])+"&jointSurname="+phe.inputReadOnlyText.getValue(s[v])+"&jointTown="+phe.textBox.getValue(g[v])+"&jointIdentityType="+phe.hiddenField.getValue(D[v])+"&jointPostalCode="+phe.textBox.getValue(B[v])+"&jointIdentityNumber="+phe.inputReadOnlyText.getValue(p[v])+"&jointDateOfBirth="+phe.hiddenField.getValue(A[v])+"&jointNationality="+phe.select.getValue(C[v])+"&jointCountryOfBirth="+phe.select.getValue(y[v])+"&jointCountryOfOrigin="+phe.select.getValue(j[v])+"&jointCountryCode="+phe.select.getValue(f[v])+"&jointSourceOfIncome="+phe.select.getValue(o[v])+"&jointOccupationStatus="+phe.select.getValue(n[v])+"&jointOccupationCode="+phe.select.getValue(a[v])}phe.loadingMessage.showLoadingMessage(w);w.style.position="relative";absa.io.makeRequest(t,function(i){phe.loadingMessage.hideLoadingMessage(w);if(!i.errors.length){phe.form.displayIOErrorMessage(w,false);var J=bb.html.createElementFromString(i.text);if(J!=null){var H=bb.selector.query(J,".ap-changePersonalDetails-validationMessage");if(H!=null){var G=bb.selector.query(w,".ui-formFoot");var I=bb.selector.query(G,".ap-changePersonalDetails-validationMessage");if(I){I.parentNode.removeChild(I)}G.insertBefore(J,G.firstChild);absa.initializeNewContent(J)}else{absa.form.validateAndSubmit(w)}}else{absa.form.validateAndSubmit(w)}}else{phe.form.displayIOErrorMessage(w,true)}})};absa.apps.jointParticipantInformation.validatePartnershipParticipantDetails=function(h){var w=bb.selector.queryAncestor(h,".ap-changeParticipantDetails-form");if(!absa.form.validate(w)){return false}var k=phe.hiddenField.getValue(bb.selector.query(w,".ap-hiddenField-cifKey"));var z=phe.hiddenField.getValue(bb.selector.query(w,".ap-hiddenField-clientType"));var d=phe.hiddenField.getValue(bb.selector.query(w,".ap-hiddenField-correspondenceLanguage"));var r=bb.selector.queryAll(w,".ap-managePersonalDetails-jointTitle");var F=bb.selector.queryAll(w,".ap-jointDetails-addressLine1");var b=bb.selector.queryAll(w,".ap-jointDetails-homeCode");var l=bb.selector.queryAll(w,".ap-jointDetails-homeNumber");var x=bb.selector.queryAll(w,".ap-jointDetails-firstNames");var E=bb.selector.queryAll(w,".ap-jointDetails-addressLine2");var m=bb.selector.queryAll(w,".ap-jointDetails-workCode");var u=bb.selector.queryAll(w,".ap-jointDetails-workNumber");var e=bb.selector.queryAll(w,".ap-jointDetails-intials");var q=bb.selector.queryAll(w,".ap-jointDetails-suburb");var c=bb.selector.queryAll(w,".ap-jointDetails-cellphone");var s=bb.selector.queryAll(w,".ap-jointDetails-surname");var g=bb.selector.queryAll(w,".ap-jointDetails-town");var D=bb.selector.queryAll(w,".ap-managePersonalDetails-jointIdentityType");var B=bb.selector.queryAll(w,".ap-jointDetails-postalCode");var p=bb.selector.queryAll(w,".ap-jointDetails-identityNumber");var A=bb.selector.queryAll(w,".ap-jointDetails-dateOfBirth");var C=bb.selector.queryAll(w,".ap-managePersonalDetails-jointNationality");var y=bb.selector.queryAll(w,".ap-managePersonalDetails-jointCountryOfBirth");var j=bb.selector.queryAll(w,".ap-managePersonalDetails-jointCountryOfOrigin");var f=bb.selector.queryAll(w,".ap-managePersonalDetails-jointCountryCode");var o=bb.selector.queryAll(w,".ap-managePersonalDetails-jointSourceOfIncome");var n=bb.selector.queryAll(w,".ap-managePersonalDetails-jointOccupationStatus");var a=bb.selector.queryAll(w,".ap-managePersonalDetails-jointOccupationCode");var t="proxy?pipe=genericWebservice&ws=PersonalInformationWebService&action=validateJointParticipantInfoBIB&cifKey="+k+"&clientType="+z+"&correspondenceLanguage="+d;for(var v=0;v<r.length;v++){t=t+"&jointTitle="+phe.select.getValue(r[v])+"&jointAddressLine1="+phe.hiddenField.getValue(F[v])+"&jointhomeCode="+phe.textBox.getValue(b[v])+"&jointHomeNumber="+phe.textBox.getValue(l[v])+"&jointFirstNames="+phe.textBox.getValue(x[v])+"&jointAddressLine2="+phe.hiddenField.getValue(E[v])+"&jointWorkCode="+phe.textBox.getValue(m[v])+"&jointWorkNumber="+phe.textBox.getValue(u[v])+"&jointInitials="+phe.inputReadOnlyText.getValue(e[v])+"&jointSuburb="+phe.hiddenField.getValue(q[v])+"&jointCellphone="+phe.textBox.getValue(c[v])+"&jointSurname="+phe.inputReadOnlyText.getValue(s[v])+"&jointTown="+phe.hiddenField.getValue(g[v])+"&jointIdentityType="+phe.hiddenField.getValue(D[v])+"&jointPostalCode="+phe.hiddenField.getValue(B[v])+"&jointIdentityNumber="+phe.inputReadOnlyText.getValue(p[v])+"&jointDateOfBirth="+phe.hiddenField.getValue(A[v])+"&jointNationality="+phe.select.getValue(C[v])+"&jointCountryOfBirth="+phe.select.getValue(y[v])+"&jointCountryOfOrigin="+phe.select.getValue(j[v])+"&jointCountryCode="+phe.select.getValue(f[v])+"&jointSourceOfIncome="+phe.select.getValue(o[v])+"&jointOccupationStatus="+phe.select.getValue(n[v])+"&jointOccupationCode="+phe.select.getValue(a[v])}phe.loadingMessage.showLoadingMessage(w);w.style.position="relative";absa.io.makeRequest(t,function(i){phe.loadingMessage.hideLoadingMessage(w);if(!i.errors.length){phe.form.displayIOErrorMessage(w,false);var J=bb.html.createElementFromString(i.text);if(J!=null){var H=bb.selector.query(J,".ap-changePersonalDetails-validationMessage");if(H!=null){var G=bb.selector.query(w,".ui-formFoot");var I=bb.selector.query(G,".ap-changePersonalDetails-validationMessage");if(I){I.parentNode.removeChild(I)}G.insertBefore(J,G.firstChild);absa.initializeNewContent(J)}else{absa.form.validateAndSubmit(w)}}else{absa.form.validateAndSubmit(w)}}else{phe.form.displayIOErrorMessage(w,true)}})};