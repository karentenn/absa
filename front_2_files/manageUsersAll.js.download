var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.manageUsers=absa.apps.manageUsers||{};absa.apps.manageUsers.onChangeOperatorIconClicked=function(a,c,b){absa.modal.loadModal("proxy?pipe=genericWebservice&ws=OperatorWebService&action=viewOperator&view=change&operatorNumber="+a+"&operatorStatus="+b,c,null,null)};absa.apps.manageUsers.onRemoveOperatorIconClicked=function(a,c,b){absa.modal.loadModal("proxy?pipe=genericWebservice&ws=OperatorWebService&action=viewOperator&mode=delete&operatorNumber="+a+"&operatorStatus="+b,c,null,null)};absa.apps.manageUsers.reloadCurrentTabBody=function(a){var b=bb.selector.query(document.body,".ap-manageUsers-tabBox");var d=phe.tabBox.getCurrentTabBody(b);var c=phe.tabBox.getAttribute(d,"proxyurl");phe.tabBox.setAttribute(d,"proxyurl",c);absa.lazyLoadNode(d,true)};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.addOperator=absa.apps.addOperator||{};absa.apps.addOperator.wizard=absa.apps.addOperator.wizard||{};absa.apps.addOperator.setContactValidation=function(b){var d=bb.selector.queryAncestor(b,".ui-form");var f=bb.selector.query(d,"input[name=emailAddress]");var a=f.parentNode;var e=bb.selector.query(d,"input[name=cellphone]");var c=e.parentNode;if(b.value=="E"){bb.html.removeClass(c,"ui-incorrect-value");bb.html.addClass(a,"ui-incorrect-value");f.setAttribute("bbf_required","true");e.setAttribute("bbf_required","false")}else{bb.html.removeClass(a,"ui-incorrect-value");bb.html.addClass(c,"ui-incorrect-value");f.setAttribute("bbf_required","false");e.setAttribute("bbf_required","true")}};absa.apps.addOperator.step2Submit=function(c){var f=bb.selector.queryAncestor(c,".ap-addOperator-form-step2");var b=bb.selector.query(f,".ap-addOperator-msgPleaseSelect");var e=bb.selector.queryAll(f,".ap-addOperator-privilages");var a=false;for(var d=0;d<e.length;d++){if(phe.checkBox.isChecked(e[d])){a=true;continue}}if(a){phe.common.hide(b);absa.form.validateAndSubmit(f)}else{phe.common.show(b)}};absa.apps.addOperator.onAddAnother=function(a){absa.apps.manageUsers.reloadCurrentTabBody(a)};absa.apps.addOperator.onChangeInsurance=function(a){var c=bb.selector.queryAncestor(a,".ap-addOperator");var b=bb.selector.query(c,".ap-addOperator-insurancePrivileges");if(phe.checkBox.isChecked(a)){phe.checkBox.setValue(a,true);phe.hiddenField.setValue(b,"true")}else{phe.checkBox.setValue(a,false);phe.hiddenField.setValue(b,"false")}};absa.apps.addOperator.onInternationalPayments=function(a){var c=bb.selector.queryAncestor(a,".ap-addOperator");var b=bb.selector.query(c,".ap-addOperator-internationalPaymentsAll");if(phe.checkBox.isChecked(a)){phe.checkBox.setValue(a,true);phe.hiddenField.setValue(b,"true")}else{phe.checkBox.setValue(a,false);phe.hiddenField.setValue(b,"false")}};absa.apps.addOperator.onDebitOrderDispute=function(b){var c=bb.selector.queryAncestor(b,".ap-addOperator");var a=bb.selector.query(c,".ap-addOperator-debitOrderDisputeAll");if(phe.checkBox.isChecked(b)){phe.checkBox.setValue(b,true);phe.hiddenField.setValue(a,"true")}else{phe.checkBox.setValue(b,false);phe.hiddenField.setValue(a,"false")}};absa.apps.addOperator.checkAll=function(b){if(phe.checkBox.isChecked(b)){phe.checkBox.setValue(b,true)}else{phe.checkBox.setValue(b,false)}var c=bb.selector.queryAncestor(b,".ui-form");var d=bb.selector.queryAll(c,".ap-addOperator-privilages");if(phe.checkBox.isChecked(b)){for(var a=0;a<d.length;a++){phe.checkBox.setAttribute(d[a],"checked","true")}}else{for(var a=0;a<d.length;a++){phe.checkBox.setAttribute(d[a],"checked","false")}}};absa.apps.addOperator.onChangeOfPrivilege=function(c,a,b){absa.apps.addOperator.checkAllFunctions(c,a);absa.apps.addOperator.checkAllAccounts(c,b);absa.apps.addOperator.checkAllFunctionsAllAccounts(c)};absa.apps.addOperator.onChangeOfAllForAccount=function(a,b){absa.apps.addOperator.selectAll(a,b);absa.apps.addOperator.checkAllFunctionsAllAccounts(a)};absa.apps.addOperator.onChangeOfAllForFunction=function(a,b){if(phe.checkBox.isChecked(a)){phe.checkBox.setValue(a,true)}else{phe.checkBox.setValue(a,false)}absa.apps.addOperator.selectAll(a,b);absa.apps.addOperator.checkAllFunctionsAllAccounts(a)};absa.apps.addOperator.checkAllFunctionsAllAccounts=function(d){var f=bb.selector.queryAncestor(d,".ui-form");var a=bb.selector.queryAll(f,".ap-addOperator-colAll");var g=bb.selector.queryAll(f,".ap-addOperator-rowAll");if(phe.checkBox.isChecked(d)){var e=true;for(var c=1;c<a.length;c++){if(phe.checkBox.isChecked(a[c])==false){e=false}}for(var c=1;c<g.length;c++){if(phe.checkBox.isChecked(g[c])==false){e=false}}if(e==false){var b=bb.selector.query(f,".ap-addOperator-colAll.ap-addOperator-rowAll");phe.checkBox.setAttribute(b,"checked","false")}else{var b=bb.selector.query(f,".ap-addOperator-colAll.ap-addOperator-rowAll");phe.checkBox.setAttribute(b,"checked","true")}}else{var b=bb.selector.query(f,".ap-addOperator-colAll.ap-addOperator-rowAll");phe.checkBox.setAttribute(b,"checked","false")}};absa.apps.addOperator.checkAllAccounts=function(c,g){var e=bb.selector.queryAncestor(c,".ui-form");var f=bb.selector.queryAll(e,g);if(phe.checkBox.isChecked(c)){var d=true;for(var b=1;b<f.length;b++){if(phe.checkBox.isChecked(f[b])==false){d=false}}if(d==false){var a=bb.selector.query(e,g+".ap-addOperator-rowAll");phe.checkBox.setAttribute(a,"checked","false")}else{var a=bb.selector.query(e,g+".ap-addOperator-rowAll");phe.checkBox.setAttribute(a,"checked","true")}}else{var a=bb.selector.query(e,g+".ap-addOperator-rowAll");phe.checkBox.setAttribute(a,"checked","false")}};absa.apps.addOperator.checkAllFunctions=function(c,g){var e=bb.selector.queryAncestor(c,".ui-form");var f=bb.selector.queryAll(e,g);if(phe.checkBox.isChecked(c)){var d=true;for(var b=1;b<f.length;b++){if(phe.checkBox.isChecked(f[b])==false){d=false}}if(d==false){var a=bb.selector.query(e,g+".ap-addOperator-colAll");phe.checkBox.setAttribute(a,"checked","false")}else{var a=bb.selector.query(e,g+".ap-addOperator-colAll");phe.checkBox.setAttribute(a,"checked","true")}}else{var a=bb.selector.query(e,g+".ap-addOperator-colAll");phe.checkBox.setAttribute(a,"checked","false")}};absa.apps.addOperator.onReset=function(b){var c=bb.selector.queryAncestor(b,".ui-form");var a=bb.selector.query(c,".ap-addOperator-rowAll.ap-addOperator-colAll");phe.checkBox.setAttribute(a,"checked","true");absa.apps.addOperator.checkAll(a)};absa.apps.addOperator.uncheckAll=function(b){var c=bb.selector.queryAncestor(b,".ui-form");var f=bb.selector.queryAll(c,"input");for(var a=0;a<f.length;a++){f[a].value=""}var f=bb.selector.queryAll(c,"select");for(var a=0;a<f.length;a++){f[a].selectedIndex=0}var e=bb.selector.query(c,"input[name=emailAddress]");e.setAttribute("bbf_required","false");var d=bb.selector.query(c,"input[name=cellphone]");d.setAttribute("bbf_required","true")};absa.apps.addOperator.selectAll=function(b,f){var c=bb.selector.queryAncestor(b,".ui-form");var e=bb.selector.queryAll(c,f);if(phe.checkBox.isChecked(b)){for(var a=0;a<e.length;a++){phe.checkBox.setAttribute(e[a],"checked","true")}}else{var d=bb.selector.query(c,".ap-addOperator-rowAll.ap-addOperator-colAll");phe.checkBox.setAttribute(d,"checked","false");for(var a=0;a<e.length;a++){phe.checkBox.setAttribute(e[a],"checked","false")}}};absa.apps.addOperator.onBackButtonClick=function(a){var c=bb.selector.queryAncestor(a,".ap-addOperator-wizard");var b=bb.selector.query(c,".ap-addOperator-form");var d=bb.selector.queryAll(b,".PIN");phe.textBox.setAttribute(d[0],"name","pin");phe.textBox.setAttribute(d[1],"name","confirmPin");phe.wizard.selectStepRelative(a,parseInt("-1"))};absa.apps.addOperator.removePIN=function(f){var b=bb.selector.queryAncestor(f,".ap-addOperator-wizard");var j=bb.selector.query(b,".ap-addOperator-form");var c=bb.selector.queryAll(j,".PIN");if(c[0].value!=c[1].value){var e=phe.textBox.getAttribute(c[0],"data-msgPinsDontMatch");absa.form.validate.toggleErrorMessage(c[1],false,e)}else{if(absa.form.validate(j)){if(phe.textBox.getValue(c[0])!=""){var g=phe.textBox.getValue(c[0]);for(var d=0;d<c.length;d++){phe.textBox.setAttribute(c[d],"name","");phe.textBox.setAttribute(c[d],"value","")}var a=phe.form.getAttribute(j,"context");var h=phe.form.getAttribute(j,"proxy");absa.xd.makeXDRequest(a,h,"/j_pin_block_cache","PIN="+g,function(i,k){absa.apps.addOperator.addOperatorHandler(j,i,k)})}else{absa.form.validateAndSubmit(j)}}}};absa.apps.addOperator.addOperatorHandler=function(e,b,d){if(b.success){var a=bb.selector.queryAncestor(e,".ap-addOperator-wizard");var c=bb.selector.query(a,".correlationId");phe.hiddenField.setValue(c,b.correlationId);absa.form.validateAndSubmit(e)}};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.changeOperator=absa.apps.changeOperator||{};absa.apps.changeOperator.wizard=absa.apps.changeOperator.wizard||{};absa.apps.changeOperator.onCancel=function(a){phe.modal.hideModal()};absa.apps.changeOperator.onClear=function(a){absa.apps.changeOperator.uncheckAll(a)};absa.apps.changeOperator.onContinue=function(a){absa.apps.changeOperator.removePIN(a)};absa.apps.changeOperator.onChangeAnother=function(a){phe.modal.hideModal()};absa.apps.changeOperator.onLanguageChangeAnother=function(a){phe.tabBox.reloadTab(a)};absa.apps.changeOperator.onChange=function(a){absa.apps.manageUsers.reloadCurrentTabBody(a)};absa.apps.changeOperator.onFinish=function(a){phe.modal.hideModal()};absa.apps.changeOperator.step2Submit=function(c){var f=bb.selector.queryAncestor(c,".ap-changeOperator-step2-form");var b=bb.selector.query(f,".ap-changeOperator-msgPleaseSelect");var e=bb.selector.queryAll(f,".ap-cO-priv");var a=false;for(var d=0;d<e.length;d++){if(phe.checkBox.isChecked(e[d])){a=true;continue}}if(a){phe.common.hide(b);absa.form.validateAndSubmit(f)}else{phe.common.show(b)}};absa.apps.changeOperator.onCheckInsurance=function(a){var c=bb.selector.queryAncestor(a,".ap-changeOperator");var b=bb.selector.query(c,".ap-changeOperator-insurancePrivileges");if(phe.checkBox.isChecked(a)){phe.checkBox.setValue(a,true);phe.hiddenField.setValue(b,"true")}else{phe.checkBox.setValue(a,false);phe.hiddenField.setValue(b,"false")}};absa.apps.changeOperator.onCheckDebitOrderDispute=function(b){var c=bb.selector.queryAncestor(b,".ap-changeOperator");var a=bb.selector.query(c,".ap-changeOperator-debitOrderDispute");if(phe.checkBox.isChecked(b)){phe.checkBox.setValue(b,true);phe.hiddenField.setValue(a,"true")}else{phe.checkBox.setValue(b,false);phe.hiddenField.setValue(a,"false")}};absa.apps.changeOperator.onInternationalPaymentsPriviledge=function(a){var c=bb.selector.queryAncestor(a,".ap-changeOperator");var b=bb.selector.query(c,".ap-changeOperator-internationalPayments");if(phe.checkBox.isChecked(a)){phe.checkBox.setValue(a,true);phe.hiddenField.setValue(b,"true")}else{phe.checkBox.setValue(a,false);phe.hiddenField.setValue(b,"false")}};absa.apps.changeOperator.setContactValidation=function(b){var d=bb.selector.queryAncestor(b,".ap-changeOperator");var f=bb.selector.query(d,"input[name=emailAddress]");var a=f.parentNode;var e=bb.selector.query(d,"input[name=cellphone]");var c=e.parentNode;if(b.value=="E"){bb.html.removeClass(c,"ui-incorrect-value");bb.html.addClass(a,"ui-incorrect-value");f.setAttribute("bbf_required","true");e.setAttribute("bbf_required","false")}else{bb.html.removeClass(a,"ui-incorrect-value");bb.html.addClass(c,"ui-incorrect-value");f.setAttribute("bbf_required","false");e.setAttribute("bbf_required","true")}};absa.apps.changeOperator.reloadTab=function(b){var a=bb.selector.queryAncestor(b,".ap-userRoles");var c=phe.tabBox.getCurrentTabBody(a);absa.lazyLoadNode(c,true)};absa.apps.changeOperator.checkAll=function(b){if(phe.checkBox.isChecked(b)){phe.checkBox.setValue(b,true)}else{phe.checkBox.setValue(b,false)}var c=bb.selector.queryAncestor(b,".ap-changeOperator");var d=bb.selector.queryAll(c,".ap-cO-priv");if(phe.checkBox.isChecked(b)){for(var a=0;a<d.length;a++){phe.checkBox.setAttribute(d[a],"checked","true")}}else{for(var a=0;a<d.length;a++){phe.checkBox.setAttribute(d[a],"checked","false")}}};absa.apps.changeOperator.onChangeOfPrivilege=function(c,a,b){absa.apps.changeOperator.checkAllFunctions(c,a);absa.apps.changeOperator.checkAllAccounts(c,b);absa.apps.changeOperator.checkAllFunctionsAllAccounts(c)};absa.apps.changeOperator.onChangeOfAllForAccount=function(a,b){absa.apps.changeOperator.selectAll(a,b);absa.apps.changeOperator.checkAllFunctionsAllAccounts(a)};absa.apps.changeOperator.onChangeOfAllForFunction=function(a,b){if(phe.checkBox.isChecked(a)){phe.checkBox.setValue(a,true)}else{phe.checkBox.setValue(a,false)}absa.apps.changeOperator.selectAll(a,b);absa.apps.changeOperator.checkAllFunctionsAllAccounts(a)};absa.apps.changeOperator.checkAllFunctionsAllAccounts=function(d){var f=bb.selector.queryAncestor(d,".ap-changeOperator");var a=bb.selector.queryAll(f,".ap-cO-cAll");var g=bb.selector.queryAll(f,".ap-cO-rAll");if(phe.checkBox.isChecked(d)){var e=true;for(var c=1;c<a.length;c++){if(phe.checkBox.isChecked(a[c])==false){e=false}}for(var c=1;c<g.length;c++){if(phe.checkBox.isChecked(g[c])==false){e=false}}if(e==false){var b=bb.selector.query(f,".ap-cO-cAll.ap-cO-rAll");phe.checkBox.setAttribute(b,"checked","false")}else{var b=bb.selector.query(f,".ap-cO-cAll.ap-cO-rAll");phe.checkBox.setAttribute(b,"checked","true")}}else{var b=bb.selector.query(f,".ap-cO-cAll.ap-cO-rAll");phe.checkBox.setAttribute(b,"checked","false")}};absa.apps.changeOperator.checkAllAccounts=function(c,g){var e=bb.selector.queryAncestor(c,".ap-changeOperator");var f=bb.selector.queryAll(e,g);if(phe.checkBox.isChecked(c)){var d=true;for(var b=1;b<f.length;b++){if(phe.checkBox.isChecked(f[b])==false){d=false}}if(d==false){var a=bb.selector.query(e,g+".ap-cO-rAll");phe.checkBox.setAttribute(a,"checked","false")}else{var a=bb.selector.query(e,g+".ap-cO-rAll");phe.checkBox.setAttribute(a,"checked","true")}}else{var a=bb.selector.query(e,g+".ap-cO-rAll");phe.checkBox.setAttribute(a,"checked","false")}};absa.apps.changeOperator.checkAllFunctions=function(c,g){var e=bb.selector.queryAncestor(c,".ap-changeOperator");var f=bb.selector.queryAll(e,g);if(phe.checkBox.isChecked(c)){var d=true;for(var b=1;b<f.length;b++){if(phe.checkBox.isChecked(f[b])==false){d=false}}if(d==false){var a=bb.selector.query(e,g+".ap-cO-cAll");phe.checkBox.setAttribute(a,"checked","false")}else{var a=bb.selector.query(e,g+".ap-cO-cAll");phe.checkBox.setAttribute(a,"checked","true")}}else{var a=bb.selector.query(e,g+".ap-cO-cAll");phe.checkBox.setAttribute(a,"checked","false")}};absa.apps.changeOperator.onReset=function(b){var c=bb.selector.queryAncestor(b,".ap-changeOperator");var a=bb.selector.query(c,".ap-cO-rAll.ap-cO-cAll");phe.checkBox.setAttribute(a,"checked","true");absa.apps.changeOperator.checkAll(a)};absa.apps.changeOperator.onLanguageReset=function(a){phe.tabBox.reloadTab(a)};absa.apps.changeOperator.uncheckAll=function(c){var d=bb.selector.queryAncestor(c,".ap-changeOperator");var a=bb.selector.queryAll(d,"input");if(a){for(var b=0;b<a.length;b++){a[b].value=""}}var h=bb.selector.queryAll(d,"select");for(var b=0;b<h.length;b++){h[b].selectedIndex=0}var g=bb.selector.query(d,"input[name=emailAddress]");if(g){g.setAttribute("bbf_required","false")}var f=bb.selector.query(d,"input[name=cellphone]");if(f){f.setAttribute("bbf_required","true")}var e=bb.selector.queryAll(d,".ui-checkBox");if(e){for(var b=0;b<e.length;b++){phe.checkBox.setAttribute(e[b],"checked","")}}};absa.apps.changeOperator.selectAll=function(b,f){var c=bb.selector.queryAncestor(b,".ap-changeOperator");var e=bb.selector.queryAll(c,f);if(phe.checkBox.isChecked(b)){for(var a=0;a<e.length;a++){phe.checkBox.setAttribute(e[a],"checked","true")}}else{var d=bb.selector.query(c,".ap-cO-rAll.ap-cO-cAll");phe.checkBox.setAttribute(d,"checked","false");for(var a=0;a<e.length;a++){phe.checkBox.setAttribute(e[a],"checked","false")}}};absa.apps.changeOperator.removePIN=function(f){var b=bb.selector.queryAncestor(f,".ap-changeOperator-wizard");var j=bb.selector.query(b,".ap-changeOperator-form");var c=bb.selector.queryAll(j,".PIN");if(c[0].value!=c[1].value){var e=phe.textBox.getAttribute(c[0],"data-msgPinsDontMatch");absa.form.validate.toggleErrorMessage(c[1],false,e)}else{if(absa.form.validate(j)){if(phe.textBox.getValue(c[0])!=""){var g=phe.textBox.getValue(c[0]);for(var d=0;d<c.length;d++){phe.textBox.setAttribute(c[d],"name","");phe.textBox.setAttribute(c[d],"value","")}var a=phe.form.getAttribute(j,"context");var h=phe.form.getAttribute(j,"proxy");absa.xd.makeXDRequest(a,h,"/j_pin_block_cache","PIN="+g,function(i,k){absa.apps.changeOperator.changeOperatorHandler(j,i,k)})}else{absa.form.validateAndSubmit(j)}}}};absa.apps.changeOperator.changeOperatorHandler=function(e,b,d){if(b.success){var a=bb.selector.queryAncestor(e,".ap-changeOperator-wizard");var c=bb.selector.query(a,".correlationId");phe.hiddenField.setValue(c,b.correlationId);absa.form.validateAndSubmit(e)}};absa.notifications.setCellphoneNumberValidation=function(c){phe.textBox.setAttribute(c,"dataType","simple:cellNumber");if(absa.form.validate.checkElement(c)){var a=bb.selector.queryAncestor(c,".ap-changeOperator-cell");var b=bb.selector.query(a,".ap-changeOperator-hiddenField-cellphone");phe.hiddenField.setValue(b,phe.textBox.getValue(c))}};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.removeOperator=absa.apps.removeOperator||{};absa.apps.removeOperator.onCancelButtonClick=function(a){phe.modal.hideModal()};absa.apps.removeOperator.onFinishButtonClick=function(a){phe.modal.hideModal();absa.apps.manageUsers.reloadCurrentTabBody(a)};absa.apps.removeOperator.onRemoveAnotherButtonClick=function(a){phe.modal.hideModal();absa.apps.manageUsers.reloadCurrentTabBody(a)};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.personalInfo=absa.apps.personalInfo||{};absa.apps.manageUsers=absa.apps.manageUsers||{};absa.apps.personalInfo.submitForm=function(b){var a=bb.selector.queryAncestor(b,".ap-personalInformation-form")};absa.apps.personalInfo.setValues=function(c){var b=bb.selector.queryAncestor(c,".ap-personalInformation-form");var a=bb.selector.query(b,".ap-set"+c.getAttribute("name"));a.value=c.options[c.selectedIndex].text};absa.apps.personalInfo.disabledDropDown=function(c){var b=bb.selector.queryAncestor(c,".ap-personalInformation-form");var a=bb.selector.query(b,".ap-maritalContract");if(c.options[c.selectedIndex].value=="2"){a.setAttribute("disabled","true");a.setAttribute("bbf_required","false")}else{a.removeAttribute("disabled");a.setAttribute("bbf_required","true")}};absa.apps.manageUsers.registerTab=function(e){var d=bb.selector.queryAncestor(e,".ap-tabs-head");for(var b=0;b<d.childNodes.length;b++){if(d.childNodes[b]==e){var c=bb.selector.queryAncestor(e,".p-gadget");var a=bb.getControllerFromView(c);a.setPreference("tabSelected",b.toString())}}};absa.apps.manageUsers.resetTab=function(c){var b=bb.selector.queryAncestor(c,".p-gadget");var a=bb.getControllerFromView(b);a.setPreference("tabSelected","0")};absa.apps.manageUsers.selectTab=function(a){var b=bb.selector.query(a.body,".ap-manage-users-tabbox");phe.tabBox.selectTabByIndex(b,a.getPreference("tabSelected"))};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.transLog=absa.apps.transLog||{};absa.apps.transLog.printMain=function(g,c){var d=bb.selector.queryAncestor(g,".ap-transactionLog-root");var b=bb.selector.query(d,".ap-selectAccount-dropdown");var a=bb.selector.query(d,".ap-selectTransactionType-dropdown");var f=bb.selector.query(d,".ap-transactionLog-fromDate");var e=bb.selector.query(d,".ap-transactionLog-toDate");absa.openReport("report/transactionLogWithAttributes.pdf?task=abo&userNumber="+c+"&account="+phe.select.getValue(b)+"&transactionType="+phe.select.getValue(a)+"&fromDate="+phe.datePicker.getValue(f)+"&toDate="+phe.datePicker.getValue(e),"abc")};absa.apps.transLog.print=function(b,a){absa.openReport("report/transactionLogDetail.pdf?task=abo&transactionId="+a,"abc")};absa.apps.transLog.reload=function(h,e){var j=bb.selector.queryAncestor(h,".ui-tabBody-selected");var b=bb.selector.query(j,".ap-transactionLog-pipe");var f=bb.selector.query(j,".ap-transactionLog-root");var i=bb.selector.query(f,".ap-viewOperators-sub-table");var k=bb.selector.query(f,".ap-selectAccount-dropdown");var d=bb.selector.query(f,".ap-selectTransactionType-dropdown");var g=bb.selector.query(f,".ap-transactionLog-fromDate");var a=bb.selector.query(f,".ap-transactionLog-toDate");var c="proxy?pipe=genericWebservice&ws=TransactionLogWebService&action=getTransactionLog&mode=table&pagingAllowed=true&userNumber="+e+"&account="+k.value+"&transactionType="+phe.select.getValue(d)+"&fromDate="+phe.datePicker.getValue(g)+"&toDate="+phe.datePicker.getValue(a);i.setAttribute("dataFile",c);phe.table.reload(i)};absa.apps.transLog.datePickerUpdater=function(e,b,f,a){if(phe.datePicker.getValue(e).length>0){var c=bb.selector.queryAncestor(e,b);var d=bb.selector.query(c,f);if(d){phe.datePicker.setAttribute(d,a,phe.datePicker.getValue(e))}}};absa.apps.transLog.expandDetailView=function(d){var a=bb.selector.queryAncestor(d,".ui-tableBodyRow");var b=a.nextSibling;var c=phe.tableBodyRow.getAttribute(b,"dataFileView");phe.tableBodyRow.expandRow(a,c)};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.changePassword=absa.apps.changePassword||{};absa.apps.passwordsEqual=function(d){var f=bb.selector.queryAncestor(d,".ui-form");var a=bb.selector.query(f,'input[name="password"]').value;var e=bb.selector.query(f,'input[name="confirmPassword"]').value;var b=bb.selector.queryAncestor(d,".ui-formFoot");var c=bb.selector.query(b,".ap-not-equal");if(a!=e){c.style.display=""}else{c.style.display="none";absa.form.validateAndSubmit(f)}};absa.apps.changePassword.checkPassword=function(c){var e=bb.selector.queryAncestor(c,".ap-changePassword-form");var d=bb.selector.query(e,".ap-changePassword-firstPasswordTextBox");var a=phe.textBox.getValue(c);var b=phe.textBox.getValue(d);return(a==b)};absa.apps.changePassword.onChangePasswordIcon=function(a,c){var b="proxy?pipe=genericEmptyResponse&xslFile=Security/changePassword";absa.modal.loadModal(b,c)};absa.apps.changePassword.onChangePassword=function(a){oForm=bb.selector.queryAncestor(a,".ap-changePassword-form");absa.form.validateAndSubmit(oForm)};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.changePin={submitButton:{},callback:function(j,b){var f=bb.selector.queryAncestor(absa.apps.changePin.submitButton,".ap-changePIN");var l=bb.selector.query(f,".ap-changePIN-errorMessage");var d=bb.selector.query(f,".ap-changePIN-successMessage");var e=bb.selector.queryAll(f,".ap-changePIN-inputReadOnlyText");var g=bb.selector.query(f,".ap-changePIN-firstPinTextBox");var k=bb.selector.query(f,".ap-changePIN-firstPinTextBox");var c=phe.textBox.getValue(g);var a=phe.textBox.getValue(k);phe.wizard.selectStepAbsolute(absa.apps.changePin.submitButton,1);for(var h=0;h<e.length;h++){phe.inputReadOnlyText.setValue(e[h],a)}if(j.success){phe.common.hide(l);phe.common.show(d)}else{phe.common.hide(d);phe.common.show(l)}absa.apps.changePin.submitButton={}}};absa.apps.changePin.alertTip=function(a){phe.modal.showModal(0.5,a,document.body,true)};absa.apps.changePin.checkPin=function(d){var e=bb.selector.queryAncestor(d,".ap-changePIN-form");var c=bb.selector.query(e,".ap-changePIN-firstPinTextBox");var b=phe.textBox.getValue(d);var a=phe.textBox.getValue(c);return(b==a)};absa.apps.changePin.onChangePinIcon=function(a,c){var b="proxy?pipe=genericEmptyResponse&xslFile=Security/changeUserPin";absa.modal.loadModal(b,c)};absa.apps.changePin.onChangePIN=function(a){absa.apps.changePin.submit(a)};absa.apps.changePin.submit=function(d){var c=bb.selector.queryAncestor(d,".ap-changePIN-wizard");var l=bb.selector.query(c,".ap-changePIN-form");var e=bb.selector.queryAll(l,".PIN");if(e[0].value!=e[1].value){var g=phe.textBox.getAttribute(e[0],"data-msgPinsDontMatch");absa.form.validate.toggleErrorMessage(e[1],false,g)}else{if(absa.form.validate(l)){if(phe.textBox.getValue(e[0])!=""){var j=phe.textBox.getValue(e[0]);for(var f=0;f<e.length;f++){phe.textBox.setAttribute(e[f],"name","");phe.textBox.setAttribute(e[f],"value","")}var a=phe.form.getAttribute(l,"context");var k=phe.form.getAttribute(l,"proxy");var h="abcdefghijklmnopqrstuvwxyz";var b=bb.selector.query(c,".pin");phe.hiddenField.setValue(b,h.substring(0,j.length));absa.xd.makeXDRequest(a,k,"/j_pin_block_cache","PIN="+j,function(i,m){absa.apps.changePin.addCorrelationHandler(l,i,m)})}else{absa.form.validateAndSubmit(l)}}}};absa.apps.changePin.addCorrelationHandler=function(e,b,d){if(b.success){var a=bb.selector.queryAncestor(e,".ap-changePIN-wizard");var c=bb.selector.query(a,".correlationId");phe.hiddenField.setValue(c,b.correlationId);absa.form.validateAndSubmit(e)}};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.changeSurephrase=absa.apps.changeSurephrase||{};absa.apps.changeSurephrase.enableButton=function(a){var b=bb.selector.queryAncestor(a,"form");absa.form.disableEnableFormButtons(b,"enable")};absa.apps.changeSurephrase.disableSubmitButton=function(b){var c=bb.selector.queryAncestor(b,"form");var a=bb.selector.query(c,'button[type="submit"]');a.disabled="disabled";a.setAttribute("class","ap-button ap-button-arrow-green-disabled")};absa.apps.changeSurephrase.submit=function(e){var c=bb.selector.queryAncestor(e,".ui-form");var d=bb.selector.query(c,".ap-span-newSurephrase");var b=document.getElementById("ap-page-body");var a=bb.selector.query(b,'span[name="yourSecuritySurePhraseIs"]');a.innerHTML=d.innerHTML};absa.apps.changeSurephrase.onChangeSurePhraseIcon=function(a,c){var b="proxy?pipe=genericWebservice&ws=SecurityWebService&action=viewSurephrase";absa.modal.loadModal(b,c)};absa.apps.changeSurephrase.onChangeSurePhrase=function(a){oForm=bb.selector.queryAncestor(a,".ap-changeSurePhrase-form");absa.form.validateAndSubmit(oForm)};absa.apps.changeSurephrase.autoUpdate=function(d){var c=bb.selector.query(d,".ap-changeSurePhrase-surePhraseTextBox").value;var b=document.getElementById("ap-page-body");var a=bb.selector.query(b,'span[name="yourSecuritySurePhraseIs"]');a.innerHTML=c};var absa=window.absa||{};absa.apps=absa.apps||{};absa.apps.changeLanguage=absa.apps.changeLanguage||{};absa.apps.changeLanguage.showReloadEntireSiteModal=function(){var c=bb.selector.query(document.body,".ap-changePreferredLang-content");var a=bb.selector.query(c,".validation-place-holder");var b=bb.selector.query(a,".ui-message-error");if(b==null){var c=bb.selector.query(document.body,".ap-changePreferredLang-form");var d=bb.selector.query(c,".ap-changePreferredLang-reloadSite-modal");phe.modal.showModal(0.5,d,c,true)}};